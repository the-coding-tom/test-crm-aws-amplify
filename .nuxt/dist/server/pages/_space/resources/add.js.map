{"version":3,"file":"pages/_space/resources/add.js","sources":["webpack:///./components/shack/UploadButton.vue?1a15","webpack:///./components/shack/UploadButton.vue?7fe5","webpack:///./components/shack/UploadButton.vue?6823","webpack:///./components/shack/UploadButton.vue","webpack:///add.vue","webpack:///./node_modules/element-ui/lib/theme-chalk/tag.css","webpack:///./components/argon-core/Inputs/TagsInput.vue?7408","webpack:///TagsInput.vue","webpack:///./components/argon-core/Inputs/TagsInput.vue?9105","webpack:///./components/argon-core/Inputs/TagsInput.vue","webpack:///./pages/_space/resources/add.vue?0cf6","webpack:///./pages/_space/resources/add.vue?67e4","webpack:///./pages/_space/resources/add.vue","webpack:///./components/shack/MainTitle.vue?4b3c","webpack:///MainTitle.vue","webpack:///./components/shack/MainTitle.vue?cbd3","webpack:///./components/shack/MainTitle.vue","webpack:///./components/shack/SectionTitle.vue?33b7","webpack:///SectionTitle.vue","webpack:///./components/shack/SectionTitle.vue?3821","webpack:///./components/shack/SectionTitle.vue","webpack:///./node_modules/element-ui/lib/theme-chalk/option.css","webpack:///./node_modules/element-ui/lib/theme-chalk/select.css","webpack:///UploadButton.vue","webpack:///./components/shack/UploadButton.vue?fe4a"],"sourcesContent":["import mod from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div id=\\\"preview\\\" class=\\\"mr-b-20\\\">\"+((_vm.url)?(\"<img\"+(_vm._ssrAttr(\"src\",_vm.url))+\">\"):\"<!---->\")+\"</div> <div class=\\\"bg-lgray pd-10 pd-l-20 upload-btn-wrapper pd-0\\\"><button class=\\\"btn\\\"><i class=\\\"fa fa-paperclip mr-r-10\\\"></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.label))+\"</button> <input\"+(_vm._ssrAttr(\"name\",_vm.name))+\" type=\\\"file\\\" accept=\\\"image/*\\\"></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadButton.vue?vue&type=template&id=04e589d2&\"\nimport script from \"./UploadButton.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadButton.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./UploadButton.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"1d0a7a84\"\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <b-form @submit.prevent=\"addNewRoom\">\n      <base-header \n        class=\"pb-6\" \n        type=\"\">\n        <div class=\"d-flex justify-content-between py-4\">\n          <MainTitle title=\"Add New Resource\" />\n          <b-button \n            :disabled=\"loading\" \n            type=\"submit\" \n            variant=\"primary\">\n            Save Resource\n          </b-button>\n        </div>\n      </base-header>\n\n      <!--Charts-->\n      <div class=\"container-fluid mt--6\">\n        <div class=\"card-deck flex-column flex-xl-row\">\n          <card>\n            <h3 class=\"mr-b-20\">Resource Details</h3>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <div class=\"row pd-r-20\">\n                  <base-input\n                    id=\"name\"\n                    v-model=\"name\"\n                    class=\"col-md-6\"\n                    label=\"Name\"\n                    required\n                    placeholder=\"Name of Resource\"\n                  />\n                  <div class=\"form-group col-md-6\">\n                    <label>Category</label>\n                    <el-select\n                      id=\"category\"\n                      v-model=\"category\"\n                      name=\"category\"\n                      required\n                    >\n                      <el-option\n                        v-for=\"item in categories\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\"\n                      />\n                    </el-select>\n                  </div>\n                  <base-input\n                    id=\"pricePerHour\"\n                    v-model=\"price_per_hour\"\n                    class=\"col-md-6\"\n                    label=\"Price per hour\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    required\n                    placeholder=\"0.00\"\n                  />\n                  <div class=\"col-md-6\">\n                    <base-input\n                      id=\"capacity\"\n                      v-model=\"capacity\"\n                      label=\"Number of Units\"\n                      type=\"number\"\n                      required\n                      placeholder=\"0\"\n                    />\n                    <b-form-text\n                    >How many people can book this at the same\n                    time</b-form-text\n                    >\n                  </div>\n                  <div class=\"form-group col-md-12\">\n                    <label>Description</label>\n                    <textarea\n                      id=\"description\"\n                      v-model=\"description\"\n                      placeholder=\"Add details about this resource\"\n                      rows=\"4\"\n                      max-rows=\"6\"\n                      required\n                      class=\"form-control\"\n                    />\n                  </div>\n\n                  <base-input\n                    id=\"minBookingDuration\"\n                    v-model=\"min_booking_duration\"\n                    class=\"col-md-6\"\n                    label=\"Minimum Booking Duration\"\n                    type=\"number\"\n                    min=\"0\"\n                    required\n                    placeholder=\"0\"\n                  >\n                    <div slot=\"append\">min</div>\n                  </base-input>\n\n                  <base-input\n                    id=\"maxBookingDuration\"\n                    v-model=\"max_booking_duration\"\n                    class=\"col-md-6\"\n                    label=\"Maximum Booking Duration\"\n                    type=\"number\"\n                    required\n                    placeholder=\"0\"\n                  >\n                    <div slot=\"append\">max</div>\n                  </base-input>\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"row pd-l-20\">\n                  <base-input\n                    id=\"availableBookingTime\"\n                    v-model=\"available_booking_time\"\n                    class=\"col-md-12\"\n                    label=\"Available Booking Time\"\n                    required\n                    placeholder=\"0\"\n                  />\n                  <b-form-text \n                    class=\"col-md-12\"\n                  >You can enter multiple time frames separated by comma, e.g.\n                  e.g. mo-fr 9-17, sa 10-3.</b-form-text\n                  >\n\n                  <div class=\"col-md-12 form-group\">\n                    <label>Amenities</label>\n                    <TagsInput\n                      id=\"amenities\"\n                      v-model=\"amenities\"\n                      type=\"Text\"\n                      required\n                    />\n                  </div>\n\n                  <b-form-group \n                    class=\"col-md-12\" \n                    label=\"Zoom Rooms\">\n                    <b-form-select\n                      id=\"zoomRoomId\"\n                      v-model=\"zoom_room_id\"\n                      :options=\"zoom_rooms\"\n                      value-field=\"id\"\n                      text-field=\"name\"\n                    >\n                      <option :value=\"null\">Choose a zoom room</option>\n                    </b-form-select>\n                  </b-form-group>\n\n                  <b-form-group \n                    class=\"col-md-12\" \n                    label=\"Brivo Access Point\">\n                    <b-form-select\n                      id=\"accessPointId\"\n                      v-model=\"access_point_id\"\n                      :options=\"access_points\"\n                      value-field=\"id\"\n                      text-field=\"name\"\n                    >\n                      <option :value=\"null\">\n                        Choose a zoom room\n                    </option></b-form-select\n                    >\n                  </b-form-group>\n\n                  <div \n                    class=\"form-group col-md-12\" \n                    style=\"margin-bottom: 16px\">\n                    <label>Resource Settings</label>\n                    <b-form-checkbox\n                      id=\"canBook\"\n                      v-model=\"can_book\"\n                      :value=\"true\"\n                      :unchecked-value=\"false\"\n                    >Room is bookable</b-form-checkbox\n                    >\n                  </div>\n                  <div \n                    v-if=\"!can_book\" \n                    class=\"form-group col-md-12\">\n                    <b-form-group\n                      :label=\"'Select Member(s) With Access To ' + name\"\n                    >\n                      <el-select\n                        v-model=\"membership_ids\"\n                        :remote-method=\"searchMembers\"\n                        :loading=\"searching\"\n                        required\n                        filterable\n                        multiple=\"true\"\n                        remote\n                        reserve-keyword\n                        placeholder=\"Choose a member\"\n                      >\n                        <el-option\n                          v-for=\"option in data\"\n                          :key=\"option.id\"\n                          :label=\"option.first_name + ' ' + option.last_name\"\n                          :value=\"option.id\"\n                        />\n                      </el-select>\n                    </b-form-group>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- <div class=\"\"> -->\n            <UploadButton\n              v-model=\"banner_url\"\n              service=\"resources\"\n              label=\"Upload File (<500KB & size 1125x582)\"\n            />\n            <!-- </div> -->\n          </card>\n        </div>\n      </div>\n    </b-form>\n  </div>\n</template>\n<script>\nimport { mapFields } from 'vuex-map-fields'\nimport { mapState } from 'vuex'\nimport BaseHeader from '@/components/argon-core/BaseHeader'\nimport MainTitle from '~/components/shack/MainTitle.vue'\nimport SectionTitle from '~/components/shack/SectionTitle.vue'\nimport UploadButton from '~/components/shack/UploadButton.vue'\nimport TagsInput from '@/components/argon-core/Inputs/TagsInput'\nimport { Select, Option } from 'element-ui'\n\nexport default {\n  layout: 'ShackDash',\n  components: {\n    BaseHeader,\n    MainTitle,\n    UploadButton,\n    SectionTitle,\n    [Select.name]: Select,\n    [Option.name]: Option,\n    TagsInput\n  },\n  async asyncData({ store, $zoomrooms, $accesspoint }) {\n    await store.dispatch('resources/getAllCategories')\n\n    const access_points = await $accesspoint.list()\n\n    return await $zoomrooms.getRooms().then(res => {\n      return {\n        zoom_rooms: res,\n        access_points\n      }\n    })\n  },\n  data() {\n    return {\n      loading: false,\n      searching: false\n    }\n  },\n  computed: {\n    ...mapState({\n      categories: state => state.resources.categories.data\n    }),\n    ...mapFields({\n      name: 'resources.addRoom.name',\n      price_per_hour: 'resources.addRoom.price_per_hour',\n      category: 'resources.addRoom.room_category_id',\n      currency: 'resources.addRoom.currency',\n      capacity: 'resources.addRoom.capacity',\n      description: 'resources.addRoom.description',\n      min_booking_duration: 'resources.addRoom.min_booking_duration',\n      max_booking_duration: 'resources.addRoom.max_booking_duration',\n      can_book: 'resources.addRoom.can_book',\n      available_booking_time: 'resources.addRoom.available_room',\n      banner_url: 'resources.addRoom.photo',\n      amenities: 'resources.addRoom.amenities',\n      zoom_room_id: 'resources.addRoom.zoom_room_id',\n      access_point_id: 'resources.addRoom.access_point_id',\n      membership_ids: 'resources.addRoom.membership_ids'\n    })\n  },\n  methods: {\n    addNewRoom() {\n      this.$store.dispatch('resources/createRoom')\n    },\n    searchMembers(query) {\n      const link = `filter[search]=${query}&filter[status]=accepted`\n\n      this.searching = !this.searching\n\n      const _self = this\n\n      _.debounce(() => {\n        _self.$membership.getAllMemberships(link).then(({ data }) => {\n          _self.searching = !_self.searching\n          _self.data = data\n        })\n      }, 350)()\n    }\n  }\n}\n</script>\n<style>\n</style>\n","// Exports\nmodule.exports = {};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags-input__wrapper\"},[_vm._l((_vm.dynamicTags),function(tag,index){return _c('el-tag',{key:tag + index,attrs:{\"type\":_vm.tagType,\"closable\":true,\"close-transition\":false,\"size\":\"small\"},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_vm._v(\"\\n    \"+_vm._s(tag)+\"\\n  \")])}),_vm._ssrNode(\" <input type=\\\"text\\\" placeholder=\\\"Add amenities\\\" size=\\\"mini\\\"\"+(_vm._ssrAttr(\"value\",(_vm.inputValue)))+\" class=\\\"form-control\\\">\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tags-input__wrapper\">\n    <el-tag\n      v-for=\"(tag, index) in dynamicTags\"\n      :key=\"tag + index\"\n      :type=\"tagType\"\n      :closable=\"true\"\n      :close-transition=\"false\"\n      size=\"small\"\n      @close=\"handleClose(tag)\"\n    >\n      {{ tag }}\n    </el-tag>\n    <input\n      ref=\"saveTagInput\"\n      v-model=\"inputValue\"\n      type=\"text\"\n      placeholder=\"Add amenities\"\n      class=\"form-control\"\n      size=\"mini\"\n      @input=\"onInput\"\n      @keydown.enter.prevent=\"handleInputConfirm\"\n      @blur=\"handleInputConfirm\"\n    >\n  </div>\n</template>\n\n<script>\nimport { Tag } from 'element-ui'\n\nexport default {\n  name: 'TagsInput',\n  components: {\n    [Tag.name]: Tag\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n      description: 'List of tags'\n    },\n    tagType: {\n      type: String,\n      default: 'primary',\n      description: 'Tag type (primary|danger etc)'\n    }\n  },\n  data() {\n    return {\n      dynamicTags: [],\n      inputVisible: false,\n      inputValue: ''\n    }\n  },\n  created() {\n    this.$watch(\n      'value',\n      newVal => {\n        this.dynamicTags = [...newVal]\n      },\n      { immediate: true }\n    )\n  },\n  methods: {\n    handleClose(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1)\n      this.$emit('change', this.dynamicTags)\n    },\n    showInput() {\n      this.inputVisible = true\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus()\n      })\n    },\n\n    handleInputConfirm() {\n      let inputValue = this.inputValue\n      if (inputValue) {\n        this.dynamicTags.push(inputValue)\n        this.$emit('change', this.dynamicTags)\n      }\n      this.inputVisible = false\n      this.inputValue = ''\n    },\n    onInput(evt) {\n      this.$emit('input', evt.target.value)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TagsInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagsInput.vue?vue&type=template&id=7a17fc2a&\"\nimport script from \"./TagsInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TagsInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"4737f0ba\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewRoom($event)}}},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"\"}},[_c('div',{staticClass:\"d-flex justify-content-between py-4\"},[_c('MainTitle',{attrs:{\"title\":\"Add New Resource\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":_vm.loading,\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"\\n          Save Resource\\n        \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"card-deck flex-column flex-xl-row\"},[_c('card',[_c('h3',{staticClass:\"mr-b-20\"},[_vm._v(\"Resource Details\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"row pd-r-20\"},[_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"name\",\"label\":\"Name\",\"required\":\"\",\"placeholder\":\"Name of Resource\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-6\"},[_c('label',[_vm._v(\"Category\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"id\":\"category\",\"name\":\"category\",\"required\":\"\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"pricePerHour\",\"label\":\"Price per hour\",\"type\":\"number\",\"step\":\"0.01\",\"required\":\"\",\"placeholder\":\"0.00\"},model:{value:(_vm.price_per_hour),callback:function ($$v) {_vm.price_per_hour=$$v},expression:\"price_per_hour\"}}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('base-input',{attrs:{\"id\":\"capacity\",\"label\":\"Number of Units\",\"type\":\"number\",\"required\":\"\",\"placeholder\":\"0\"},model:{value:(_vm.capacity),callback:function ($$v) {_vm.capacity=$$v},expression:\"capacity\"}}),_vm._v(\" \"),_c('b-form-text',[_vm._v(\"How many people can book this at the same\\n                  time\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-12\"},[_c('label',[_vm._v(\"Description\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"id\":\"description\",\"placeholder\":\"Add details about this resource\",\"rows\":\"4\",\"max-rows\":\"6\",\"required\":\"\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}})]),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"minBookingDuration\",\"label\":\"Minimum Booking Duration\",\"type\":\"number\",\"min\":\"0\",\"required\":\"\",\"placeholder\":\"0\"},model:{value:(_vm.min_booking_duration),callback:function ($$v) {_vm.min_booking_duration=$$v},expression:\"min_booking_duration\"}},[_c('div',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"min\")])]),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"maxBookingDuration\",\"label\":\"Maximum Booking Duration\",\"type\":\"number\",\"required\":\"\",\"placeholder\":\"0\"},model:{value:(_vm.max_booking_duration),callback:function ($$v) {_vm.max_booking_duration=$$v},expression:\"max_booking_duration\"}},[_c('div',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"max\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"row pd-l-20\"},[_c('base-input',{staticClass:\"col-md-12\",attrs:{\"id\":\"availableBookingTime\",\"label\":\"Available Booking Time\",\"required\":\"\",\"placeholder\":\"0\"},model:{value:(_vm.available_booking_time),callback:function ($$v) {_vm.available_booking_time=$$v},expression:\"available_booking_time\"}}),_vm._v(\" \"),_c('b-form-text',{staticClass:\"col-md-12\"},[_vm._v(\"You can enter multiple time frames separated by comma, e.g.\\n                e.g. mo-fr 9-17, sa 10-3.\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-12 form-group\"},[_c('label',[_vm._v(\"Amenities\")]),_vm._v(\" \"),_c('TagsInput',{attrs:{\"id\":\"amenities\",\"type\":\"Text\",\"required\":\"\"},model:{value:(_vm.amenities),callback:function ($$v) {_vm.amenities=$$v},expression:\"amenities\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-12\",attrs:{\"label\":\"Zoom Rooms\"}},[_c('b-form-select',{attrs:{\"id\":\"zoomRoomId\",\"options\":_vm.zoom_rooms,\"value-field\":\"id\",\"text-field\":\"name\"},model:{value:(_vm.zoom_room_id),callback:function ($$v) {_vm.zoom_room_id=$$v},expression:\"zoom_room_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"Choose a zoom room\")])])],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-12\",attrs:{\"label\":\"Brivo Access Point\"}},[_c('b-form-select',{attrs:{\"id\":\"accessPointId\",\"options\":_vm.access_points,\"value-field\":\"id\",\"text-field\":\"name\"},model:{value:(_vm.access_point_id),callback:function ($$v) {_vm.access_point_id=$$v},expression:\"access_point_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"\\n                      Choose a zoom room\\n                  \")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-12\",staticStyle:{\"margin-bottom\":\"16px\"}},[_c('label',[_vm._v(\"Resource Settings\")]),_vm._v(\" \"),_c('b-form-checkbox',{attrs:{\"id\":\"canBook\",\"value\":true,\"unchecked-value\":false},model:{value:(_vm.can_book),callback:function ($$v) {_vm.can_book=$$v},expression:\"can_book\"}},[_vm._v(\"Room is bookable\")])],1),_vm._v(\" \"),(!_vm.can_book)?_c('div',{staticClass:\"form-group col-md-12\"},[_c('b-form-group',{attrs:{\"label\":'Select Member(s) With Access To ' + _vm.name}},[_c('el-select',{attrs:{\"remote-method\":_vm.searchMembers,\"loading\":_vm.searching,\"required\":\"\",\"filterable\":\"\",\"multiple\":\"true\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Choose a member\"},model:{value:(_vm.membership_ids),callback:function ($$v) {_vm.membership_ids=$$v},expression:\"membership_ids\"}},_vm._l((_vm.data),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.first_name + ' ' + option.last_name,\"value\":option.id}})}),1)],1)],1):_vm._e()],1)])]),_vm._v(\" \"),_c('UploadButton',{attrs:{\"service\":\"resources\",\"label\":\"Upload File (<500KB & size 1125x582)\"},model:{value:(_vm.banner_url),callback:function ($$v) {_vm.banner_url=$$v},expression:\"banner_url\"}})],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=ab0fea6c&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"28efec5a\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h1 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h1>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    subtitle: {\n      type: String,\n      default: ''\n    },\n    info: {\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTitle.vue?vue&type=template&id=eb42120a&\"\nimport script from \"./MainTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"bd5e01f8\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h3 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h3>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=b54cd52a&\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"1090309e\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n","<template>\n  <div>\n    <div\n      id=\"preview\"\n      class=\"mr-b-20\">\n      <img\n        v-if=\"url\"\n        :src=\"url\" >\n    </div>\n    <div class=\"bg-lgray pd-10 pd-l-20 upload-btn-wrapper pd-0\">\n      <button class=\"btn\"><i class=\"fa fa-paperclip mr-r-10\"/> {{ label }}</button>\n      <input\n        :name=\"name\"\n        type=\"file\"\n        accept=\"image/*\"\n        @change=\"onFileChange\" >\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: null\n    },\n    label: {\n      type: String,\n      default: null\n    },\n    service: {\n      type: String,\n      default: 'images'\n    },\n    url: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      publicUrl: null\n    }\n  },\n  methods: {\n    async onFileChange(e) {\n      const file = e.target.files[0]\n\n      if (!file) {\n        return\n      }\n\n      if (file.size > 500000) {\n        this.$bvToast.toast('File size must not be greater than 500kb', {\n          variant: 'warning'\n        })\n        return\n      }\n\n      let mime = file.type\n\n      this.url = URL.createObjectURL(file)\n\n      let upload = await this.getSignedUrl(mime)\n      this.publicUrl = upload.public_url\n\n      this.$bvToast.toast('Uploading image. Please wait...')\n\n      //upload image here\n      let uploadUrl = await this.uploadUrl(upload.signed_url, file, mime)\n        .then(res => {\n          this.$emit('input', this.publicUrl)\n\n          this.$bvToast.toast('Image uploaded successfully', {\n            variant: 'success',\n            solid: true\n          })\n        })\n        .catch(e => {\n          this.$bvToast.toast(e.message, {\n            title: 'Error',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    },\n    getSignedUrl(mime) {\n      const { service } = this\n\n      return this.$images\n        .getSignedUrl(service, mime)\n        .then(({ data }) => {\n          return data.data\n        })\n        .catch(({ response }) => {\n          this.$bvToast.toast(JSON.stringify(response.data.errors), {\n            title: 'Error',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    },\n    uploadUrl(url, file, mime) {\n      return axios\n        .put(url, file, {\n          headers: {\n            'Content-Type': mime\n          }\n        })\n        .then(res => {\n          return res\n        })\n        .catch(({ response }) => {\n          this.$bvToast.toast(JSON.stringify(response.data), {\n            variant: 'danger',\n            solid: true\n          })\n        })\n    }\n  }\n}\n</script>\n<style>\n#preview {\n}\n\n#preview img {\n  max-width: 200px;\n}\n</style>\n","// Exports\nmodule.exports = {};\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;ACFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyMA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAEA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAJA;AAsBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAnDA;;;;;;;;ACzOA;AACA;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4BA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AACA;AAWA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAxBA;AArCA;;AC9BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;ACFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;;;;;;;;ACDA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoBA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAbA;AACA;AAiBA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAEA;AACA;AADA;AADA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AA3EA;AAxBA;;;;;;;;ACvBA;AACA;;;;;A","sourceRoot":""}