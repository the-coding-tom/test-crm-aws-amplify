{"version":3,"file":"pages/_space/events/add.js","sources":["webpack:///./components/shack/UploadButton.vue?1a15","webpack:///./components/shack/UploadButton.vue?7fe5","webpack:///./components/shack/UploadButton.vue?6823","webpack:///./components/shack/UploadButton.vue","webpack:///./util/errors.js","webpack:///./util/convertMarkdownToHtml.js","webpack:///./components/argon-core/Inputs/HtmlEditor.vue?5ae1","webpack:///HtmlEditor.vue","webpack:///./components/argon-core/Inputs/HtmlEditor.vue?ab30","webpack:///./components/argon-core/Inputs/HtmlEditor.vue","webpack:///./components/events/Room.vue?e868","webpack:///Room.vue","webpack:///./components/events/Room.vue?3b42","webpack:///./components/events/Room.vue","webpack:///./pages/_space/events/add.vue?49e6","webpack:///./pages/_space/events/add.vue","webpack:///./pages/_space/events/add.vue?779d","webpack:///./pages/_space/events/add.vue?bd74","webpack:///./components/shack/MainTitle.vue?4b3c","webpack:///MainTitle.vue","webpack:///./components/shack/MainTitle.vue?cbd3","webpack:///./components/shack/MainTitle.vue","webpack:///./components/shack/SectionTitle.vue?33b7","webpack:///SectionTitle.vue","webpack:///./components/shack/SectionTitle.vue?3821","webpack:///./components/shack/SectionTitle.vue","webpack:///./node_modules/element-ui/lib/theme-chalk/option.css","webpack:///./node_modules/element-ui/lib/theme-chalk/select.css","webpack:///UploadButton.vue","webpack:///./components/shack/UploadButton.vue?fe4a"],"sourcesContent":["import mod from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-0!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<div id=\\\"preview\\\" class=\\\"mr-b-20\\\">\"+((_vm.url)?(\"<img\"+(_vm._ssrAttr(\"src\",_vm.url))+\">\"):\"<!---->\")+\"</div> <div class=\\\"bg-lgray pd-10 pd-l-20 upload-btn-wrapper pd-0\\\"><button class=\\\"btn\\\"><i class=\\\"fa fa-paperclip mr-r-10\\\"></i>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.label))+\"</button> <input\"+(_vm._ssrAttr(\"name\",_vm.name))+\" type=\\\"file\\\" accept=\\\"image/*\\\"></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadButton.vue?vue&type=template&id=04e589d2&\"\nimport script from \"./UploadButton.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadButton.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./UploadButton.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"1d0a7a84\"\n  \n)\n\nexport default component.exports","export const displayError = function(e, vm = null) {\n  if (e.response) {\n    processError(e.response.data.message, vm)\n\n    if (e.response.data.errors) {\n      _.each(e.response.data.errors, (o, i) => {\n        return _.each(o, (v, k) => processError(v, vm))\n      })\n    }\n\n    return\n  }\n\n  processError(e.message, vm)\n}\n\nconst processError = function(message, vm) {\n  console.log('------------------------------------')\n  console.log(message)\n  console.log('------------------------------------')\n  vm && vm.$bvToast.toast(message, { title: 'Error', variant: 'danger' })\n}\n","export const convertMarkdownToHtml = text => {\n  var showdown = require('showdown')\n  var converter = new showdown.Converter()\n  const eventDescription = text.replace(/([ ]*\\n)/g, `<br/>\\n`)\n  const finalDescription = eventDescription.replace(\n    /(<br\\/>\\n<br\\/>\\n<br\\/>)/g,\n    `<br/><br/>`\n  )\n  return converter.makeHtml(finalDescription)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('client-only',[_c('editor',{ref:\"toastuiEditor\",attrs:{\"initial-value\":_vm.editorText,\"options\":_vm.editorOptions,\"initial-edit-type\":\"wysiwyg\",\"preview-style\":\"tab\"},on:{\"change\":_vm.onEditorChange},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <client-only>\n      <!-- <editor\n        v-model=\"text\"\n        :options=\"editorOptions\"\n        :initial-value=\"text\"\n        initial-edit-type=\"wysiwyg\"\n        preview-style=\"none\"\n      /> -->\n      <editor\n        ref=\"toastuiEditor\"\n        :initial-value=\"editorText\"\n        v-model=\"text\"\n        :options=\"editorOptions\"\n        initial-edit-type=\"wysiwyg\"\n        preview-style=\"tab\"\n        @change=\"onEditorChange\"\n      />\n    </client-only>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    editorText: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      editorOptions: {\n        useDefaultHTMLSanitizer: false,\n        usageStatistics: false,\n        hideModeSwitch: true,\n        toolbarItems: [\n          'heading',\n          'bold',\n          'italic',\n          'strike',\n          'divider',\n          'hr',\n          'quote',\n          'divider',\n          'ul',\n          'ol',\n          'task',\n          'indent',\n          'outdent',\n          'divider',\n          //'table',\n          'image',\n          'link',\n          'divider',\n          'code',\n          'codeblock'\n        ]\n      },\n      text: this.value\n    }\n  },\n  watch: {\n    text() {\n      this.$emit('input', this.text)\n    }\n  },\n  methods: {\n    onEditorChange() {\n      let html = this.$refs.toastuiEditor.invoke('getHtml')\n      let desc = this.$refs.toastuiEditor.invoke('getValue')\n      let markdown = this.$refs.toastuiEditor.invoke('getMarkdown')\n\n      this.text = markdown\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HtmlEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HtmlEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HtmlEditor.vue?vue&type=template&id=277b231e&\"\nimport script from \"./HtmlEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./HtmlEditor.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"3c8eb076\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group col-md-12\"},[_c('b-form-group',{attrs:{\"id\":\"rooms\",\"label\":\"Rooms Available\"}},_vm._l((_vm.rooms),function(room){return _c('b-form-radio',{key:room.id,attrs:{\"value\":room.id,\"name\":\"room\"},model:{value:(_vm.selectedRoom),callback:function ($$v) {_vm.selectedRoom=$$v},expression:\"selectedRoom\"}},[_vm._v(_vm._s(room.name))])}),1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div>\",\"</div>\",[_c('base-pagination',{attrs:{\"value\":_vm.meta.current_page,\"total\":_vm.meta.total,\"per-page\":15,\"size\":\"sm\"},on:{\"next\":_vm.next,\"prev\":_vm.prev}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-group col-md-12\">\n    <b-form-group \n      id=\"rooms\" \n      label=\"Rooms Available\">\n      <b-form-radio\n        v-for=\"room in rooms\"\n        :value=\"room.id\"\n        :key=\"room.id\"\n        v-model=\"selectedRoom\"\n        name=\"room\"\n      >{{ room.name }}</b-form-radio>\n    </b-form-group>\n    <div>\n      <base-pagination\n        :value=\"meta.current_page\"\n        :total=\"meta.total\"\n        :per-page=\"15\"\n        size=\"sm\"\n        @next=\"next\"\n        @prev=\"prev\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { displayError } from '../../util/errors'\nexport default {\n  name: 'EventRooms',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      meta: {},\n      links: {},\n      selectedRoom: this.value\n    }\n  },\n  computed: {\n    ...mapState({\n      rooms: state => state.events.rooms\n    })\n  },\n  watch: {\n    selectedRoom() {\n      this.$emit('input', this.selectedRoom)\n    }\n  },\n  created() {\n    this.$event\n      .getRooms()\n      .then(({ data }) => {\n        this.meta = data.meta\n        this.links = data.links\n\n        this.$store.commit('events/setRooms', data)\n      })\n      .catch(e => {\n        this.$bvToast.toast('Failed to retrieve rooms', {\n          variant: 'danger'\n        })\n        displayError(e)\n      })\n  },\n  methods: {\n    next() {\n      const { next } = this.links\n      this.getRooms(next)\n    },\n    prev() {\n      const { prev } = this.links\n      this.getRooms(prev)\n    },\n    getRooms(link) {\n      this.$resource\n        .getAllRooms(link)\n        .then(({ data }) => {\n          this.meta = data.meta\n          this.links = data.links\n          this.$store.commit('events/setRooms', data)\n        })\n        .catch(e => {\n          const message = e.response\n            ? `${e.response.data.message} ~ ${JSON.stringify(\n                e.response.data.errors\n              )}`\n            : e.message\n          this.$bvToast.toast(message, {\n            variant: 'error',\n            title: 'Error'\n          })\n        })\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=786a2106&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"2b4e3ef1\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"\"}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center py-4\"},[_c('MainTitle',{attrs:{\"title\":\"Add New Event\"}}),_vm._v(\" \"),_c('div',[_c('b-button',{staticClass:\"text-danger\",attrs:{\"variant\":\"transparent\"},on:{\"click\":function($event){return _vm.addEvent('draft')}}},[_c('i',{staticClass:\"fa fa-save\"}),_vm._v(\" Save As Draft & Close\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"btn btn-primary text-white\",on:{\"click\":_vm.addEvent}},[_vm._v(\"Add Event\")])],1)],1)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"container-fluid mt--6\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"card-deck flex-column flex-xl-row\\\">\",\"</div>\",[_c('card',[_c('h3',{staticClass:\"mr-b-20\"},[_vm._v(\"Event Details\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"row pd-r-20\"},[_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"title\",\"label\":\"Event Title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"capacity\",\"label\":\"Capacity\",\"type\":\"number\"},model:{value:(_vm.capacity),callback:function ($$v) {_vm.capacity=$$v},expression:\"capacity\"}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-12\"},[_c('label',[_vm._v(\"Event Description\")]),_vm._v(\" \"),_c('html-editor',{attrs:{\"id\":\"description\",\"placeholder\":\"Add details about the event\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-6\",attrs:{\"label\":\"Start Date\"}},[_c('client-only',[_c('date-picker',{attrs:{\"id\":\"startTime\",\"time-picker-options\":{\n                      start: '00:30',\n                      step: '00:15',\n                      end: '23:30',\n                      format: 'hh:mm a',\n                    },\"width\":\"100%\",\"input-class\":\"form-control\",\"lang\":\"en\",\"format\":\"YYYY-MM-DD HH:mm:ss\",\"value-type\":\"format\",\"type\":\"datetime\",\"placeholder\":\"Select Date\"},on:{\"change\":_vm.startChange},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}})],1)],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-6\",attrs:{\"label\":\"End Date\"}},[_c('client-only',[_c('date-picker',{attrs:{\"id\":\"endTime\",\"time-picker-options\":{\n                      start: '00:30',\n                      step: '00:15',\n                      end: '23:30',\n                      format: 'hh:mm a',\n                    },\"width\":\"100%\",\"input-class\":\"form-control\",\"lang\":\"en\",\"format\":\"YYYY-MM-DD HH:mm:ss\",\"value-type\":\"format\",\"type\":\"datetime\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1)],1),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"price\",\"label\":\"Price\",\"type\":\"number\",\"step\":\"0.01\"},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}}),_vm._v(\" \"),_c('base-input',{staticClass:\"col-md-6\",attrs:{\"id\":\"maxTicketPerPerson\",\"label\":\"Max Ticket Per Person\",\"type\":\"number\"},model:{value:(_vm.max_ticket_per_person),callback:function ($$v) {_vm.max_ticket_per_person=$$v},expression:\"max_ticket_per_person\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"row pd-l-20\"},[_c('div',{staticClass:\"form-group col-md-12\"},[_c('label',[_vm._v(\"Event Category:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"Select Category\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},_vm._l((_vm.categories),function(category){return _c('el-option',{key:category.id,attrs:{\"label\":category.name,\"value\":category.id}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-12\"},[_c('b-form-checkbox',{attrs:{\"id\":\"external-1\",\"value\":true,\"unchecked-value\":null,\"name\":\"external-1\"},model:{value:(_vm.external),callback:function ($$v) {_vm.external=$$v},expression:\"external\"}},[_vm._v(\"\\n                  Host at an external location\\n                \")]),_vm._v(\" \"),(_vm.external)?_c('b-form-input',{attrs:{\"placeholder\":\"External Location\",\"required\":\"\"},model:{value:(_vm.external_location),callback:function ($$v) {_vm.external_location=$$v},expression:\"external_location\"}}):_vm._e()],1),_vm._v(\" \"),(!_vm.external)?_c('room',{model:{value:(_vm.selectedRoom),callback:function ($$v) {_vm.selectedRoom=$$v},expression:\"selectedRoom\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"form-group col-md-12\"},[_c('b-form-checkbox',{attrs:{\"id\":\"sendMailCheckbox\",\"value\":\"true\"},model:{value:(_vm.sendMail),callback:function ($$v) {_vm.sendMail=$$v},expression:\"sendMail\"}},[_vm._v(\"Send email to attendees\")])],1),_vm._v(\" \"),(_vm.sendMail)?_c('div',{staticClass:\"form-group col-md-12\"},[_c('base-input',{attrs:{\"id\":\"emailSubject\",\"label\":\"Email Subject\",\"placeholder\":\"Add subject of Email\"},model:{value:(_vm.emailSubject),callback:function ($$v) {_vm.emailSubject=$$v},expression:\"emailSubject\"}}),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":\"Email Content\"}},[_c('html-editor',{attrs:{\"id\":\"emailMessage\",\"placeholder\":\"Message body for attendees email\"},model:{value:(_vm.emailMessage),callback:function ($$v) {_vm.emailMessage=$$v},expression:\"emailMessage\"}})],1)],1):_vm._e()],1)])]),_vm._v(\" \"),_c('UploadButton',{attrs:{\"service\":\"event\",\"label\":\"Upload Event Image (<500KB & size 1125x582)\"},model:{value:(_vm.eventLogo),callback:function ($$v) {_vm.eventLogo=$$v},expression:\"eventLogo\"}}),_vm._v(\" \"),_c('UploadButton',{attrs:{\"service\":\"event\",\"label\":\"Upload Event Banner (<500KB)\"},model:{value:(_vm.banner_image),callback:function ($$v) {_vm.banner_image=$$v},expression:\"banner_image\"}}),_vm._v(\" \"),_c('UploadButton',{attrs:{\"service\":\"event\",\"label\":\"Upload Host Logo (<500KB & size 500x500)\"},model:{value:(_vm.hostLogo),callback:function ($$v) {_vm.hostLogo=$$v},expression:\"hostLogo\"}})],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// Components\nimport BaseHeader from '@/components/argon-core/BaseHeader'\nimport MainTitle from '@/components/shack/MainTitle.vue'\nimport SectionTitle from '@/components/shack/SectionTitle.vue'\nimport UploadButton from '@/components/shack/UploadButton.vue'\nimport HtmlEditor from '@/components/argon-core/Inputs/HtmlEditor'\nimport { mapState } from 'vuex'\nimport { Select, Option } from 'element-ui'\nimport Room from '@/components/events/Room'\nimport { convertMarkdownToHtml } from '@/util/convertMarkdownToHtml.js'\n\nexport default {\n  layout: 'ShackDash',\n  name: 'EventAdd',\n  components: {\n    BaseHeader,\n    MainTitle,\n    UploadButton,\n    SectionTitle,\n    HtmlEditor,\n    [Select.name]: Select,\n    [Option.name]: Option,\n    Room\n  },\n  async asyncData({ store, $event }) {\n    await $event\n      .getEventCategories()\n      .then(({ data }) => {\n        store.commit('events/setCategories', data)\n      })\n      .catch(err => {\n        error({ statusCode: 404, message: 'Server Error. Try Again !!!' })\n      })\n  },\n  data() {\n    return {\n      category: '',\n      title: '',\n      description: '',\n      capacity: null, //10,\n      price: null, //10,\n      startTime: '',\n      endTime: '',\n      eventLogo: '',\n      hostLogo: '',\n      sendMail: false,\n      emailSubject: 'Booking Confirmed',\n      emailMessage: '',\n      selectedRoom: null,\n      max_ticket_per_person: null, //3,\n      external: false,\n      external_location: null,\n      banner_image: ''\n    }\n  },\n  computed: {\n    ...mapState({\n      categories: state => state.events.categories,\n      space: state => state.space.currentSpace.subdomain\n    })\n  },\n  mounted() {\n    this.startTime = this.$moment().format('YYYY-MM-DD HH:00:00')\n    this.endTime = this.$moment(this.startTime)\n      .add(1, 'hour')\n      .format('YYYY-MM-DD HH:mm:ss')\n    this.category = this.categories[0].id\n  },\n  methods: {\n    startChange(e) {\n      this.endTime = this.$moment(e)\n        .add(1, 'hour')\n        .format('YYYY-MM-DD HH:mm:ss')\n    },\n    convertTextToHtml(text) {\n      return convertMarkdownToHtml(text)\n    },\n    async addEvent(state) {\n      // Change to preferred display format -- 'YYYY-MM-DD HH:mm:ss'\n      const start_time = this.$moment(this.startTime).format(\n        'YYYY-MM-DD HH:mm:ss'\n      )\n      const end_time = this.$moment(this.endTime).format('YYYY-MM-DD HH:mm:ss')\n\n      const emailMessage = this.convertTextToHtml(this.emailMessage)\n\n      if (this.external) {\n        this.selectedRoom = null\n      } else {\n        this.external_location = null\n      }\n\n      const eventDescription = this.description.replace(/(?:<br>)/g, '\\n')\n      const eventDetails = {\n        name: this.title,\n        description: eventDescription,\n        price: this.price,\n        start_time,\n        end_time,\n        event_logo: this.eventLogo,\n        host_logo: this.hostLogo,\n        type: 'event',\n        room_id: this.selectedRoom,\n        event_category_id: this.category,\n        max_ticket_per_person: this.max_ticket_per_person,\n        total_tickets: this.capacity,\n        send_mail: this.sendMail === 'true' ? true : false,\n        email_subject: this.emailSubject,\n        email_message: emailMessage,\n        external_location: this.external_location,\n        banner_image: this.banner_image\n      }\n\n      if (state === 'draft') eventDetails.is_drafted = true\n\n      await this.$event\n        .addEvent(eventDetails)\n        .then(({ data }) => {\n          this.$bvToast.toast(`Event added successfully`, {\n            title: 'Success',\n            variant: 'success',\n            solid: true\n          })\n\n          if (state === 'draft')\n            this.$router.push({ path: `/${this.space}/events/drafts` })\n          else this.$router.push({ path: `/${this.space}/events/${data.id}` })\n        })\n        .catch(({ response }) => {\n          this.$bvToast.toast(JSON.stringify(response.data.errors), {\n            title: 'Error',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=b6c76828&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"0bc3d582\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h1 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h1>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    subtitle: {\n      type: String,\n      default: ''\n    },\n    info: {\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTitle.vue?vue&type=template&id=eb42120a&\"\nimport script from \"./MainTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"bd5e01f8\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h3 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h3>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=b54cd52a&\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"1090309e\"\n  \n)\n\nexport default component.exports","// Exports\nmodule.exports = {};\n","// Exports\nmodule.exports = {};\n","<template>\n  <div>\n    <div\n      id=\"preview\"\n      class=\"mr-b-20\">\n      <img\n        v-if=\"url\"\n        :src=\"url\" >\n    </div>\n    <div class=\"bg-lgray pd-10 pd-l-20 upload-btn-wrapper pd-0\">\n      <button class=\"btn\"><i class=\"fa fa-paperclip mr-r-10\"/> {{ label }}</button>\n      <input\n        :name=\"name\"\n        type=\"file\"\n        accept=\"image/*\"\n        @change=\"onFileChange\" >\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: null\n    },\n    label: {\n      type: String,\n      default: null\n    },\n    service: {\n      type: String,\n      default: 'images'\n    },\n    url: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      publicUrl: null\n    }\n  },\n  methods: {\n    async onFileChange(e) {\n      const file = e.target.files[0]\n\n      if (!file) {\n        return\n      }\n\n      if (file.size > 500000) {\n        this.$bvToast.toast('File size must not be greater than 500kb', {\n          variant: 'warning'\n        })\n        return\n      }\n\n      let mime = file.type\n\n      this.url = URL.createObjectURL(file)\n\n      let upload = await this.getSignedUrl(mime)\n      this.publicUrl = upload.public_url\n\n      this.$bvToast.toast('Uploading image. Please wait...')\n\n      //upload image here\n      let uploadUrl = await this.uploadUrl(upload.signed_url, file, mime)\n        .then(res => {\n          this.$emit('input', this.publicUrl)\n\n          this.$bvToast.toast('Image uploaded successfully', {\n            variant: 'success',\n            solid: true\n          })\n        })\n        .catch(e => {\n          this.$bvToast.toast(e.message, {\n            title: 'Error',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    },\n    getSignedUrl(mime) {\n      const { service } = this\n\n      return this.$images\n        .getSignedUrl(service, mime)\n        .then(({ data }) => {\n          return data.data\n        })\n        .catch(({ response }) => {\n          this.$bvToast.toast(JSON.stringify(response.data.errors), {\n            title: 'Error',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    },\n    uploadUrl(url, file, mime) {\n      return axios\n        .put(url, file, {\n          headers: {\n            'Content-Type': mime\n          }\n        })\n        .then(res => {\n          return res\n        })\n        .catch(({ response }) => {\n          this.$bvToast.toast(JSON.stringify(response.data), {\n            variant: 'danger',\n            solid: true\n          })\n        })\n    }\n  }\n}\n</script>\n<style>\n#preview {\n}\n\n#preview img {\n  max-width: 200px;\n}\n</style>\n","// Exports\nmodule.exports = {};\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;ACFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;ACrBA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAIA;AACA;;;;;;;;;;ACTA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsBA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAgBA;AApBA;AA2BA;AA5BA;AA8BA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AARA;AAhDA;;ACxBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrBA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAEA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AA7BA;AAzCA;;AC7BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AASA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAjBA;AAmBA;AACA;AAAA;AAEA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAoBA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AApEA;AAzDA;;ACpNA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;;;;;;;;ACDA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoBA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAbA;AACA;AAiBA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAEA;AACA;AADA;AADA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AA3EA;AAxBA;;;;;;;;ACvBA;AACA;;;;;A","sourceRoot":""}