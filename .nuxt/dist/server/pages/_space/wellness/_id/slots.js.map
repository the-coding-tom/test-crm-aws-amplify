{"version":3,"file":"pages/_space/wellness/_id/slots.js","sources":["webpack:///slots.vue","webpack:///./pages/_space/wellness/_id/slots.vue?2947","webpack:///./pages/_space/wellness/_id/slots.vue?5fe1","webpack:///./pages/_space/wellness/_id/slots.vue","webpack:///./components/shack/MainTitle.vue?4b3c","webpack:///MainTitle.vue","webpack:///./components/shack/MainTitle.vue?cbd3","webpack:///./components/shack/MainTitle.vue","webpack:///./components/shack/SectionTitle.vue?33b7","webpack:///SectionTitle.vue","webpack:///./components/shack/SectionTitle.vue?3821","webpack:///./components/shack/SectionTitle.vue"],"sourcesContent":["<template>\n  <div>\n    <b-form @submit.prevent=\"updateWellnessSlots\">\n      <base-header\n        class=\"pb-6\"\n        type=\"\">\n        <div class=\"d-flex justify-content-between py-4\">\n          <MainTitle title=\"Slots\" />\n          <b-button\n            :disabled=\"loading\"\n            type=\"submit\"\n            variant=\"primary\">Update Slots</b-button>\n        </div>\n      </base-header>\n\n      <div class=\"container-fluid mt--6\">\n        <div class=\"card-deck flex-column flex-xl-row\">\n          <card>\n            <h3 class=\"mr-b-20\">Add a Slot</h3>\n            <client-only>\n              <b-form @submit.prevent=\"addSlot\">\n                <div class=\"row\">\n                  <b-form-group\n                    label=\"Day\"\n                    class=\"col-md-3\">\n                    <b-form-select\n                      v-model=\"slot.day\"\n                      :options=\"selects\"/>\n                  </b-form-group>\n                  <b-form-group\n                    label=\"Start time\"\n                    class=\"col-md-2\">\n                    <client-only>\n                      <date-picker\n                        id=\"time\"\n                        v-model=\"slot.start\"\n                        width=\"100%\"\n                        input-class=\"form-control\"\n                        lang=\"en\"\n                        value-type=\"format\"\n                        confirm\n                        type=\"time\"\n                        format=\"HH:mm\"\n                        placeholder=\"00:00\"\n                      />\n                    </client-only>\n                  </b-form-group>\n                  <b-form-group\n                    class=\"col-md-2\"\n                    label=\"Duration\">\n                    <b-form-input\n                      v-model=\"slot.duration\"\n                      type=\"number\"\n                      required />\n                  </b-form-group>\n                  <b-form-group\n                    class=\"col-md-2\"\n                    label=\"Capacity\">\n                    <b-form-input\n                      v-model=\"slot.capacity\"\n                      type=\"number\"\n                      required />\n                  </b-form-group>\n                  <b-form-group>\n                    <template slot=\"label\">&nbsp;</template>\n                    <b-button\n                      type=\"submit\"\n                      outline\n                      variant=\"primary\"\n                      class=\"sh-dashbtn\">Add This Slot</b-button>\n                  </b-form-group>\n                </div>\n              </b-form>\n            </client-only>\n\n            <div class=\"mr-tb-80\">\n              <div class=\"m-n25\">\n                <table class=\"table table-hover table-striped\">\n                  <thead>\n                    <tr>\n                      <th>Day</th>\n                      <th>Start Time</th>\n                      <th>Duration (mins)</th>\n                      <th>Capacity</th>\n                      <th/>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                      v-for=\"(slot, i) in slots\"\n                      :key=\"i\">\n                      <td><a href=\"#\">{{ translateDay(slot.day) }}</a></td>\n                      <td>{{ slot.start }}</td>\n                      <td>{{ slot.duration }}</td>\n                      <td>{{ slot.capacity }}</td>\n                      <td>\n                        <b-button\n                          variant=\"transparent\"\n                          class=\"text-primary\"\n                          @click=\"editSlot(slot)\"\n                        ><i class=\"fa fa-edit\"/> Edit</b-button>\n                        <b-button\n                          variant=\"transparent\"\n                          class=\"text-danger\"\n                          @click=\"removeSlot(i)\"><i class=\"fa fa-times\"/> Delete</b-button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"col-md-12\">\n                <div class=\"sh-alert d-flex align-items-center\">\n                  <i class=\"ion-android-bulb fs20\"/>\n                  <span>If a slot on this wellness is already booked, you will be unable to modify the slots unless all bookings are refunded</span>\n                </div>\n              </div>\n            </div>\n          </card>\n        </div>\n      </div>\n    </b-form>\n  </div>\n\n</template>\n<script>\n// Components\nimport BaseHeader from '@/components/argon-core/BaseHeader'\n\nimport MainTitle from '~/components/shack/MainTitle.vue'\nimport SectionTitle from '~/components/shack/SectionTitle.vue'\n\nexport default {\n  layout: 'ShackDash',\n  async asyncData({ $wellness, route, error }) {\n    return await $wellness\n      .getAWellnessSession(route.params.id)\n      .then(({ data }) => {\n        return {\n          slots: _.sortBy(data.data.slots, ['day', 'start'])\n        }\n      })\n      .catch(e => {\n        error({\n          statusCode: 404,\n          message: e.response\n            ? JSON.stringify(e.response.data.message)\n            : e.message\n        })\n      })\n  },\n  components: {\n    BaseHeader,\n    MainTitle,\n    SectionTitle\n  },\n  data: () => ({\n    loading: false,\n    slot: {\n      day: 0,\n      start: '08:00',\n      duration: 30,\n      capacity: 1\n    },\n    selects: [\n      {\n        text: 'Sunday',\n        value: 0\n      },\n      { text: 'Monday', value: 1 },\n      { text: 'Tuesday', value: 2 },\n      { text: 'Wednesday', value: 3 },\n      { text: 'Thursday', value: 4 },\n      { text: 'Friday', value: 5 },\n      { text: 'Saturday', value: 6 }\n    ]\n  }),\n  methods: {\n    toggleLoading() {\n      this.loading = !this.loading\n    },\n    updateWellnessSlots() {\n      this.toggleLoading()\n\n      const { id } = this.$route.params\n      const { slots } = this\n\n      this.$wellness\n        .updateWellnessSlots(id, { slots })\n        .then(res => {\n          this.$bvToast.toast('Wellness slots updated successfully', {\n            title: 'Success',\n            variant: 'success',\n            solid: true\n          })\n\n          this.$router.go(-1)\n        })\n        .catch(({ response }) => {\n          this.toggleLoading()\n          this.$bvToast.toast(JSON.stringify(response.data.errors), {\n            title: 'Errors',\n            variant: 'danger',\n            solid: true\n          })\n        })\n    },\n    addSlot() {\n      const { slot } = this\n      this.slots.push(slot)\n    },\n    removeSlot(i) {\n      this.slots.splice(i, 1)\n    },\n    translateDay(day) {\n      const { selects } = this\n\n      return _.filter(selects, o => {\n        return o.value == day\n      })[0]['text']\n    },\n    editSlot(slot) {\n      this.slot = slot\n    }\n  }\n}\n</script>\n<style>\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateWellnessSlots($event)}}},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"\"}},[_c('div',{staticClass:\"d-flex justify-content-between py-4\"},[_c('MainTitle',{attrs:{\"title\":\"Slots\"}}),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":_vm.loading,\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Update Slots\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"card-deck flex-column flex-xl-row\"},[_c('card',[_c('h3',{staticClass:\"mr-b-20\"},[_vm._v(\"Add a Slot\")]),_vm._v(\" \"),_c('client-only',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addSlot($event)}}},[_c('div',{staticClass:\"row\"},[_c('b-form-group',{staticClass:\"col-md-3\",attrs:{\"label\":\"Day\"}},[_c('b-form-select',{attrs:{\"options\":_vm.selects},model:{value:(_vm.slot.day),callback:function ($$v) {_vm.$set(_vm.slot, \"day\", $$v)},expression:\"slot.day\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-2\",attrs:{\"label\":\"Start time\"}},[_c('client-only',[_c('date-picker',{attrs:{\"id\":\"time\",\"width\":\"100%\",\"input-class\":\"form-control\",\"lang\":\"en\",\"value-type\":\"format\",\"confirm\":\"\",\"type\":\"time\",\"format\":\"HH:mm\",\"placeholder\":\"00:00\"},model:{value:(_vm.slot.start),callback:function ($$v) {_vm.$set(_vm.slot, \"start\", $$v)},expression:\"slot.start\"}})],1)],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-2\",attrs:{\"label\":\"Duration\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"required\":\"\"},model:{value:(_vm.slot.duration),callback:function ($$v) {_vm.$set(_vm.slot, \"duration\", $$v)},expression:\"slot.duration\"}})],1),_vm._v(\" \"),_c('b-form-group',{staticClass:\"col-md-2\",attrs:{\"label\":\"Capacity\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"required\":\"\"},model:{value:(_vm.slot.capacity),callback:function ($$v) {_vm.$set(_vm.slot, \"capacity\", $$v)},expression:\"slot.capacity\"}})],1),_vm._v(\" \"),_c('b-form-group',[_c('template',{slot:\"label\"},[_vm._v(\" \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"sh-dashbtn\",attrs:{\"type\":\"submit\",\"outline\":\"\",\"variant\":\"primary\"}},[_vm._v(\"Add This Slot\")])],2)],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"mr-tb-80\"},[_c('div',{staticClass:\"m-n25\"},[_c('table',{staticClass:\"table table-hover table-striped\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Day\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Start Time\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Duration (mins)\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Capacity\")]),_vm._v(\" \"),_c('th')])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.slots),function(slot,i){return _c('tr',{key:i},[_c('td',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.translateDay(slot.day)))])]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(slot.start))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(slot.duration))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(slot.capacity))]),_vm._v(\" \"),_c('td',[_c('b-button',{staticClass:\"text-primary\",attrs:{\"variant\":\"transparent\"},on:{\"click\":function($event){return _vm.editSlot(slot)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit\")]),_vm._v(\" \"),_c('b-button',{staticClass:\"text-danger\",attrs:{\"variant\":\"transparent\"},on:{\"click\":function($event){return _vm.removeSlot(i)}}},[_c('i',{staticClass:\"fa fa-times\"}),_vm._v(\" Delete\")])],1)])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"sh-alert d-flex align-items-center\"},[_c('i',{staticClass:\"ion-android-bulb fs20\"}),_vm._v(\" \"),_c('span',[_vm._v(\"If a slot on this wellness is already booked, you will be unable to modify the slots unless all bookings are refunded\")])])])])],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slots.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slots.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./slots.vue?vue&type=template&id=1268e217&\"\nimport script from \"./slots.vue?vue&type=script&lang=js&\"\nexport * from \"./slots.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"681a214a\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h1 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h1>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    subtitle: {\n      type: String,\n      default: ''\n    },\n    info: {\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTitle.vue?vue&type=template&id=eb42120a&\"\nimport script from \"./MainTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"bd5e01f8\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"page-title\"},[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</span> <b\"+(_vm._ssrStyle(null,null, { display: (_vm.subtitle) ? '' : 'none' }))+\">•</b>\"+_vm._ssrEscape(\" \"+_vm._s(_vm.subtitle)))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <h3 class=\"page-title\"><span>{{ title }}</span> <b v-show=\"subtitle\">•</b> {{ subtitle }}</h3>\n</template>\n\n<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@nuxt/webpack/node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionTitle.vue?vue&type=template&id=b54cd52a&\"\nimport script from \"./SectionTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionTitle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"1090309e\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAlBA;AAqBA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA/CA;AA7CA;;;;;;;;;;;;;ACtIA;AACA;AACA;;;;;;;;ACFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AClBA;AACA;AACA;;;;;;;;;ACGA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AADA;;ACLA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}