(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{322:function(t,e,n){"use strict";var r={props:{title:{type:String,default:""},subtitle:{type:String,default:""},info:{type:String,default:""}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"page-title"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("b",{directives:[{name:"show",rawName:"v-show",value:t.subtitle,expression:"subtitle"}]},[t._v("â€¢")]),t._v(" "+t._s(t.subtitle))])}),[],!1,null,null,null);e.a=component.exports},331:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.response)return o(e.response.data.message,n),void(e.response.data.errors&&t.each(e.response.data.errors,(function(e,i){return t.each(e,(function(t,e){return o(t,n)}))})));o(e.message,n)},o=function(t,e){console.log("------------------------------------"),console.log(t),console.log("------------------------------------"),e&&e.$bvToast.toast(t,{title:"Error",variant:"danger"})}}).call(this,n(206))},339:function(t,e,n){"use strict";var r={props:{value:{type:String,default:""},editorText:{type:String,default:""}},data:function(){return{editorOptions:{useDefaultHTMLSanitizer:!1,usageStatistics:!1,hideModeSwitch:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","divider","code","codeblock"]},text:this.value}},watch:{text:function(){this.$emit("input",this.text)}},methods:{onEditorChange:function(){this.$refs.toastuiEditor.invoke("getHtml"),this.$refs.toastuiEditor.invoke("getValue");var t=this.$refs.toastuiEditor.invoke("getMarkdown");this.text=t}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("client-only",[n("editor",{ref:"toastuiEditor",attrs:{"initial-value":t.editorText,options:t.editorOptions,"initial-edit-type":"wysiwyg","preview-style":"tab"},on:{change:t.onEditorChange},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)}),[],!1,null,null,null);e.a=component.exports},388:function(t,e,n){"use strict";(function(t){n(9),n(3),n(7),n(6),n(8),n(22),n(23),n(5),n(18),n(21),n(15),n(40);var r,o=n(12),c=n(1),l=(n(17),n(460),n(116),n(461)),d=n.n(l),m=n(322),h=n(489),v=n(490),f=n(406),_=n(477),y=n(478),C=n(479),k=n(480),x=n(481),$=n(482),S=n(483),w=n(484),P=n(44);n(467);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={name:"DirectoryProfile",layout:"ShackDash",components:(r={SubscriptionHistory:w.a,MainTitle:m.a,ProfileHead:h.a,ChangePlan:f.a,PauseMembership:_.a,AddCredit:C.a,AddPlan:y.a,AddCustomCharge:x.a,EditCustomCharge:$.a,AddCard:k.a},Object(c.a)(r,d.a.name,d.a),Object(c.a)(r,"MembershipNotes",v.a),Object(c.a)(r,"CheckIn",S.a),r),asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function n(){var r,c,l,d,m,h,v,f,filter,_;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.store,c=e.params,l=e.$membership,d=e.error,m=e.$moment,n.prev=1,n.next=4,l.getPaymentMethods(c.id).then((function(t){return t.data}));case 4:return h=n.sent,n.next=7,l.getSubscriptions(c.id).then((function(t){return t.data}));case 7:return v=n.sent,n.next=10,l.getPaidFor(c.id).then((function(t){return t.data}));case 10:return f=n.sent,filter="".concat(c.id,"/subscription/history?filter[scheduled_subscription]=true"),n.next=14,l.getSubscriptionHistory(filter).then((function(t){return t.data}));case 14:return _=n.sent,n.next=17,l.getAMembership(c.id).then(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){var data,o,c,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data=n.data,o=data.guests_allowed,e.next=4,l.getCustomCharges({spaceId:1,user_id:data.user_id}).then((function(data){return data}));case 4:return c=e.sent,d=c.returnedData.map((function(t){return{description:t.description,charge:t.amount,due_date:t.due_date.split(" ")[0],current_status:t.state}})),y=t.map(data.events_attended,(function(t){return{name:t.event?t.event.name:"(event deleted)",ticket:t.number_of_tickets+" tickets",price:r.state.space.currentSpace.currency_symbol+t.total_amount,start:t.event?m(t.event.start_time).format("MMM DD, YY"):"(event deleted)"}})),e.abrupt("return",{checkin:data.checkin.length>0?data.checkin[0]:{},data:data,previousRoomCreditBalance:data.room_booking_credit_amount,previousFoodCreditBalance:data.food_ordering_credit_amount,previousEventCreditBalance:data.event_booking_credit_amount,cards:h,events:y,subscriptions:v,scheduledSubscription:_,customCharges:c.returnedData,customChargesList:d,paid_for:f,member_guests:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 17:return n.abrupt("return",n.sent);case 20:n.prev=20,n.t0=n.catch(1),d({statusCode:n.t0.statusCode,message:n.t0.response?n.t0.response.data.message:n.t0.message});case 23:case"end":return n.stop()}}),n,null,[[1,20]])})))()},data:function(){return{plan_id:"",loading:!1,checked:!1,cards:[],scheduledSubscription:[],member_guests:3,autoRenewStatus:!1,currentPage:1,profilePic:"",selctedItemData:{},customChargesList:[],perPage:5,fields:["description","charge","due_date","current_status","_"],items:[{description:"Requested for 40 chairs",charge:"500",due_date:"2020-02-22",current_status:"Settled",_:""},{description:"Requested for extra chairs",charge:"500",due_date:"2020-02-22",current_status:"Unsettled",_:""}],drawer:!1,direction:"rtl",previousCreditBalance:500,booking_edit_disabled:!0,event_edit_disabled:!0,food_edit_disabled:!0,disabled:!0,guestsDisabled:!0,customCharges:[],credit:{amount:null,description:null,membership_id:null}}},computed:O(O({},Object(P.b)({space:function(t){return t.space.currentSpace}})),{},{getSubscription:function(){var e=this,n=null;return t.each(this.data.plans,(function(r){t.each(e.data.subscriptions,(function(t){t.plan_id==r.id&&null==t.canceled_at&&(n=t.ends_at?t.ends_at:t.trial_ends_at)}))})),this.$moment(n).format("MMMM DD, YYYY")},rows:function(){return this.data.events_attended.length}}),methods:{imageUploaded:function(t){var e=this;this.data.user_profile.picture=t,this.$membership.updateProfile(O({user_id:this.data.user_id},this.data.user_profile)).then((function(t){e.loading=!e.loading,e.$bvToast.toast("Photo updated succesfully",{title:"Success",variant:"success"})})).catch((function(t){e.loading=!e.loading;var n=t.response?"".concat(t.response.data.message," ~ ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},rowClicked:function(t,e,n){this.selctedItemData=this.customCharges[e],this.$bvModal.show("edit-custom-charge")},saveChanges:function(t){var e=this;"event-booking"==t?(this.credit.purpose=t,this.credit.amount=this.data.event_booking_credit_amount):"room-booking"==t?(this.credit.purpose=t,this.credit.amount=this.data.room_booking_credit_amount):"food-ordering"==t&&(this.credit.purpose=t,this.credit.amount=this.data.food_ordering_credit_amount),this.loading=!this.loading,this.credit.description="Credit bonus for member",this.credit.membership_id=this.data.id,this.$membership.editCredit(this.credit).then((function(n){e.$bvToast.toast("Credit assigned to member successfully",{title:"Success",variant:"success"}),"event-booking"==t?e.previousEventCreditBalance=e.data.event_booking_credit_amount:"room-booking"==t?e.previousRoomCreditBalance=e.data.room_booking_credit_amount:"food-ordering"==t&&(e.previousFoodCreditBalance=e.data.food_ordering_credit_amount),location.reload()})).catch((function(t){e.loading=!e.loading;var n=t.response?"".concat(t.response.data.message," ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},saveMemberGuests:function(){var t=this;this.loading=!this.loading,this.$membership.editGuests(this.data.id,{member_guests:this.member_guests,space_id:this.data.space.id}).then((function(e){t.$bvToast.toast("Number of guests updated successfully",{title:"Success",variant:"success"})})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},toggleModal:function(t,data){this.selctedItemData=data,this.$bvModal.show(t)},getSubName:function(e){var n,r;return t.each(this.data.plans,(function(t){t.id==e.plan_id&&(n=t.name,r=t.price)})),{name:n,price:r}},autoRenewSubscriptionToggle:function(t){var e=this;this.$membership.changeSubscriptionRenewalState(this.$route.params.id,{id:this.data.id,spaceId:this.data.space_id,subscriptionState:t}).then((function(t){t.data;e.$bvToast.toast("State updated successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(t){e.$bvToast.toast("State update failed",{title:"Error",variant:"danger"})}))},freeSubscriptionToggle:function(t){var e=this;this.$membership.changeFreeRenewalState(this.$route.params.id,{id:this.data.id,spaceId:this.data.space_id,renew_for_free:t}).then((function(t){t.data;e.$bvToast.toast("State updated successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(t){e.$bvToast.toast("State update failed",{title:"Error",variant:"danger"})}))},checkinToggle:function(t){var e=this;"checkin"==t?this.$checkin.checkin({type:"member",membership_id:this.data.id}).then((function(t){var data=t.data;e.$bvToast.toast("Member checked in successfully",{title:"Success",variant:"success"}),e.checkin=data})).catch((function(t){e.$bvToast.toast("Member checkin failed",{title:"Error",variant:"danger"})})):this.$checkin.checkout(this.checkin.id).then((function(t){t.data;e.$bvToast.toast("Member checked out successfully",{title:"Success",variant:"success"})})).catch((function(t){e.$bvToast.toast("Member check out failed",{title:"Error",variant:"danger"})}))},getExtras:function(e){var html="";return t.each(e,(function(e,i){html+='<div class="sh-dls"><span>'.concat(t.upperFirst(e.type),":</span> ").concat(e.comment?e.comment:"","</div>")})),html},toggleLoading:function(){this.loading=!this.loading},removeMemberSource:function(i){var t=this;this.loading=!this.loading,this.$membership.deletePaymentMethod(this.$route.params.id,{card_nonce:this.cards[i].id}).then((function(e){t.cards.splice(i,1),t.toggleLoading(),t.$bvToast.toast("Card source removed successfully",{title:"Success",variant:"success"})})).catch((function(e){var n=e.response?e.response.data.message:e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},formatPrice:function(t){return(t/1).toFixed(2).replace(",",".").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getSubDetails:function(t){var e=t.ends_at?t.ends_at:t.trial_ends_at;return this.$moment(e).format("DD MMM, YYYY")},getExpDetails:function(t){return t?this.$moment(t).format("DD MMM, YYYY"):"Not set"},addCard:function(t){var e=this;this.$membership.addPaymentMethod(this.$route.params.id,{card_nonce:t}).then((function(t){t.data;e.$bvToast.toast("Card added successfully",{title:"Success",variant:"success"}),location.reload()}))},deleteMember:function(){var t=this;if(confirm("Are you sure?")){this.loading=!this.loading;var e=this.$route.params.id;this.$membership.deleteMembership(e).then((function(e){e.data;t.$bvToast.toast("Member deleted successfully",{title:"Success",variant:"success"}),t.$router.go(-1)})).catch((function(e){t.loading=!t.loading;var n=e.response?e.response.data.message:e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}},changePlan:function(e){var n=this;t.each(this.data.plans,(function(t){t.id==e.plan_id&&(n.plan_id=e.id)})),this.toggleModal("change-plan")},pauseMembership:function(t){this.toggleModal("pause-membership")},resumeMembership:function(){var t=this;this.$membership.changeSubscriptionRenewalState(this.$route.params.id,{id:this.data.id,spaceId:this.data.space_id,subscriptionState:"active"}).then((function(e){e.data;t.$bvToast.toast("State updated successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.$bvToast.toast("State update failed",{title:"Error",variant:"danger"})}))},cancelScheduledPlanChange:function(){var t=this;this.$membership.cancelScheduledPlanChange(this.$route.params.id,{id:this.data.id,spaceId:this.data.space_id,state:"inactive"}).then((function(e){e.data;t.$bvToast.toast("Cancelled successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.$bvToast.toast("Cancel failed",{title:"Error",variant:"danger"})}))},cancelPlan:function(t){var e=this;confirm("Are you sure?")&&(this.loading=!this.loading,this.$membership.cancelSubscription(this.$route.params.id,{plan_id:t.plan_id,slug:t.slug,immediate:!0}).then((function(t){e.$bvToast.toast("Plan canceled succesfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(t){e.loading=!e.loading;var n=t.response?"".concat(t.response.data.message," ~ ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})})))},makePlanPrimary:function(t){var e=this;this.loading=!this.loading,this.$membership.makePlanPrimary(this.$route.params.id,{plan_id:t.plan_id}).then((function(t){e.loading=!e.loading,e.$bvToast.toast("Plan made primary",{title:"Success",variant:"success"})})).catch((function(t){e.loading=!e.loading,displayError(t,e)}))},toggleCovidCardStatus:function(t){console.log(t),this.data.covid_declaration_completed=t}}}}).call(this,n(206))},389:function(t,e,n){"use strict";(function(t){n(9),n(3),n(7),n(6),n(5),n(8);var r=n(1),o=(n(15),n(14),n(485));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}e.a={components:{UploadButton:o.a},props:{name:{type:String,default:null},status:{type:String,default:null},img:{type:String,default:null},company:{type:String,default:null},address:{type:Array,default:null},userProfile:{type:Object,default:null},userId:{type:Number,default:null},date:{type:String,default:null},extras:{type:Array,default:function(){return[]}},referral:{type:String,default:null}},data:function(){return{loading:!1,prefix_type:[{text:"Founding Member",value:"0"},{text:"Fast Track",value:"1"},{text:"Early Invite",value:"2"},{text:"General Member",value:"3"}]}},computed:{getMembershipType:function(){var e=this,n=null;return t.each(this.prefix_type,(function(t){t.value==e.status&&(n=t.text)})),n},isLoading:function(){return this.loading}},methods:{getCities:function(address){return t.join(t.map(address,(function(e){return t.upperFirst(e)})),", ")},imageUploaded:function(t){var e=this;this.loading=!0,this.userProfile.picture=t,this.$membership.updateProfile(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({user_id:this.userId},this.userProfile)).then((function(t){e.loading=!e.loading,e.$bvToast.toast("Photo updated succesfully",{title:"Success",variant:"success"})})).catch((function(t){e.loading=!e.loading;var n=t.response?"".concat(t.response.data.message," ~ ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},onUploadStarted:function(t){this.loading=t}}}}).call(this,n(206))},390:function(t,e,n){},391:function(t,e,n){},392:function(t,e,n){"use strict";(function(t){n(9),n(3),n(7),n(6),n(5),n(8);var r=n(1),o=n(117),c=n(322),l=n(339),d=n(44);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}e.a={layout:"ShackDash",components:{BaseHeader:o.a,MainTitle:c.a,HtmlEditor:l.a},props:{membership_id:{type:String,default:""}},data:function(){return{loading:!1,body:"",sticky_note:!1,notes:[]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(d.b)({user:function(t){return t.auth.user.id}})),mounted:function(){this.getNotes()},methods:{getNotes:function(){var e=this;this.$membership.getAllNotes(this.$route.params.id).then((function(n){var data=n.data;e.notes=t.sortBy(t.sortBy(data,["updated_by"]),[function(t){return!0!==t.sticky_note}])})).catch((function(t){console.log(t.response.data.message)}))},addNote:function(){var e=this,body=this.body,n=this.sticky_note,r=this.$route.params.id;this.loading=!this.loading,this.$membership.addNote(r,{body:body,sticky_note:n}).then((function(n){var data=n.data;e.body="",e.loading=!e.loading,e.$bvToast.toast("Note added successfully",{title:"Success",variant:"success"}),e.notes.push(data),e.notes=t.sortBy(t.sortBy(e.notes,["updated_by"]),[function(t){return!0!==t.sticky_note}])})).catch((function(t){e.loading=!e.loading;var n=t.response?t.response.data.message:t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},deleteNote:function(i){var t=this;if(confirm("Are you sure?")){this.loading=!this.loading;var e=this.$route.params.id,n=this.notes[i].id;this.$membership.deleteNote(e,n).then((function(e){t.loading=!t.loading,t.$bvToast.toast("Note added successfully",{title:"Success",variant:"success"}),t.notes.splice(i,1)})).catch((function(e){t.loading=!t.loading;var n=e.response?e.response.data.message:e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}},updateNote:function(t){var e=this;this.loading=!this.loading,this.sticky_note=!t.sticky_note;var n=this.sticky_note;this.$membership.updateNote(this.membership_id,t.id,{sticky_note:n}).then((function(t){e.loading=!e.loading,e.getNotes(),e.$bvToast.toast("Note added successfully",{title:"Success",variant:"success"})})).catch((function(t){e.loading=!e.loading;var n=t.response?t.response.data.message:t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}}}).call(this,n(206))},393:function(t,e,n){},394:function(t,e,n){},395:function(t,e,n){},406:function(t,e,n){"use strict";n(14);var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"ChangePlan",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{plan_id:Number,membership_id:{type:String,default:""}},data:function(){return{loading:!1,search:"",plans:[],new_plan_id:"",change:{dueDate:null,changeInstantly:!0}}},mounted:function(){var t=this;this.loading=!this.loading,this.$plan.getAllPlan().then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},methods:{getPlans:function(q){var t=this;this.loading=!this.loading;var link="".concat(this.$route.params.space,"/plans?filter[name]=").concat(q);this.$plan.getAllPlan(link).then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},changePlan:function(){var t,e=this;this.loading=!this.loading,t=this.membership_id?this.membership_id:this.$route.params.id;var r=this.new_plan_id,o=this.plan_id,c=this.change,l=n(42);this.$membership.changePlan(t,{subscription_id:o,new_plan_id:r,due_date:c.dueDate||l(),scheduled:!this.change.changeInstantly,new_plan_name:""}).then((function(t){t.data;e.onPlanChangedSuccessfully()})).catch((function(t){e.loading=!e.loading;var n=t.response?"".concat(t.response.data.message," ~ ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},onPlanChangedSuccessfully:function(){this.$bvToast.toast("Plan changed successfully",{title:"Success",variant:"success"}),location.reload()}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.changePlan(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{label:"New Plan",description:""}},[n("el-select",{attrs:{"remote-method":t.getPlans,loading:t.loading,filterable:"",remote:"","reserve-keyword":"",placeholder:"Choose New Plan"},model:{value:t.new_plan_id,callback:function(e){t.new_plan_id=e},expression:"new_plan_id"}},t._l(t.plans,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("b-form-group",{staticClass:"col-md-6",attrs:{label:"Change instantly"}},[n("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.change.changeInstantly,callback:function(e){t.$set(t.change,"changeInstantly",e)},expression:"change.changeInstantly"}},[t._v("Yes")])],1),t._v(" "),t.change.changeInstantly?t._e():n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Change on",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,type:"date",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Due Date"},model:{value:t.change.dueDate,callback:function(e){t.$set(t.change,"dueDate",e)},expression:"change.dueDate"}})],1)],1),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Update Plan")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},463:function(t,e,n){"use strict";var r=n(390);n.n(r).a},464:function(t,e,n){"use strict";var r=n(391);n.n(r).a},465:function(t,e,n){"use strict";var r=n(393);n.n(r).a},466:function(t,e,n){"use strict";var r=n(394);n.n(r).a},468:function(t,e,n){"use strict";var r=n(395);n.n(r).a},477:function(t,e,n){"use strict";var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"PauseSubscription",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{data:Object,membership_id:{type:String,default:""}},data:function(){return{loading:!1,search:"",plans:[],new_plan_id:"",change:{subscriptionPauseDate:null,subscriptionResumeDate:null,changeInstantly:!0,manuallyUnpause:!0}}},mounted:function(){var t=this;this.loading=!this.loading,this.$plan.getAllPlan().then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},methods:{getPlans:function(q){var t=this;this.loading=!this.loading;var link="".concat(this.$route.params.space,"/plans?filter[name]=").concat(q);this.$plan.getAllPlan(link).then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},changePlan:function(){var t=this;this.loading=!this.loading,this.$membership.changeSubscriptionRenewalState(this.$route.params.id,{id:this.data.id,spaceId:this.data.space_id,subscriptionState:"paused",subscriptionResumeDate:this.change.manuallyUnpause?null:this.change.subscriptionResumeDate,subscriptionPauseDate:this.change.changeInstantly?null:this.change.subscriptionPauseDate}).then((function(e){e.data;t.$bvToast.toast("Pause was successful",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Pause  failed",{title:"Error",variant:"danger"})}))},onPlanChangedSuccessfully:function(){this.$bvToast.toast("Plan changed successfully",{title:"Success",variant:"success"}),location.reload()}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.changePlan(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-6"},[n("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.change.changeInstantly,callback:function(e){t.$set(t.change,"changeInstantly",e)},expression:"change.changeInstantly"}},[t._v("Pause now and unpause later.")])],1),t._v(" "),t.change.changeInstantly?t._e():n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Pause on",description:""}},[n("el-input",{attrs:{type:"date",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Pause Date"},model:{value:t.change.subscriptionPauseDate,callback:function(e){t.$set(t.change,"subscriptionPauseDate",e)},expression:"change.subscriptionPauseDate"}})],1),t._v(" "),t.change.changeInstantly?t._e():n("b-form-group",{staticClass:"col-md-12"},[n("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.change.manuallyUnpause,callback:function(e){t.$set(t.change,"manuallyUnpause",e)},expression:"change.manuallyUnpause"}},[t._v("Manually resume later.")])],1),t._v(" "),t.change.changeInstantly||t.change.manuallyUnpause?t._e():n("b-form-group",{staticClass:"col-md-12",attrs:{label:"Resume on",description:"Don't set the resume date if you intend to manually unpause."}},[n("el-input",{attrs:{type:"date",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Resume Date"},model:{value:t.change.subscriptionResumeDate,callback:function(e){t.$set(t.change,"subscriptionResumeDate",e)},expression:"change.subscriptionResumeDate"}})],1)],1),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Save Update")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},478:function(t,e,n){"use strict";var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"AddPlan",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{cards:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,search:"",plans:[],plan:{plan_id:"",trial:!1,trial_days:"0",card_nonce:""}}},mounted:function(){var t=this;this.loading=!this.loading,this.plan.end_time=this.$moment().format("YYYY-MM-DD HH:mm:ss"),this.$plan.getAllPlan().then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},methods:{getPlans:function(q){var t=this;this.loading=!this.loading;var link="".concat(this.$route.params.space,"/plans?filter[name]=").concat(q);this.$plan.getAllPlan(link).then((function(e){var data=e.data;t.loading=!t.loading,t.plans=data.data})).catch((function(e){t.loading=!t.loading,t.$bvToast.toast("Failed to retrieve plans. Try again",{title:"Error",variant:"danger"})}))},addPlan:function(){var t=this;this.loading=!this.loading;var e=this.$route.params.id,n=this.plan;this.$membership.addPlan(e,n).then((function(e){t.$bvToast.toast("Plan assigned to member successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addPlan(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Plan",description:""}},[n("el-select",{attrs:{"remote-method":t.getPlans,loading:t.loading,filterable:"",remote:"","reserve-keyword":"",placeholder:"Choose New Plan"},model:{value:t.plan.plan_id,callback:function(e){t.$set(t.plan,"plan_id",e)},expression:"plan.plan_id"}},t._l(t.plans,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("b-form-group",{staticClass:"col-md-12",attrs:{id:"memberCard",label:"Payment Source",description:""}},[n("el-select",{attrs:{"reserve-keyword":"",placeholder:"Choose Card"},model:{value:t.plan.card_nonce,callback:function(e){t.$set(t.plan,"card_nonce",e)},expression:"plan.card_nonce"}},t._l(t.cards,(function(t){return n("el-option",{key:t.id,attrs:{label:t.card_brand+" ~ **** "+t.last_4,value:t.id}})})),1)],1)],1),t._v(" "),n("b-row",[n("b-form-group",{staticClass:"col-md-6",attrs:{label:"Trial"}},[n("b-form-checkbox",{attrs:{id:"checkbox-1",value:!0,"unchecked-value":!1,name:"checkbox-1"},model:{value:t.plan.trial,callback:function(e){t.$set(t.plan,"trial",e)},expression:"plan.trial"}},[t._v("\n          Yes\n        ")])],1),t._v(" "),t.plan.trial?n("b-form-group",{staticClass:"col-md-6",attrs:{label:"Trial Days"}},[n("b-form-input",{attrs:{type:"number",required:""},model:{value:t.plan.trial_days,callback:function(e){t.$set(t.plan,"trial_days",e)},expression:"plan.trial_days"}})],1):t._e()],1),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Add Plan")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},479:function(t,e,n){"use strict";var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"AddCredit",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{data:{type:Object,default:function(){}}},data:function(){return{loading:!1,search:"",plans:[],credit:{amount:null,description:null,membership_id:null,purpose:"room-booking",expirationDate:null}}},mounted:function(){},methods:{addCredit:function(){var t=this;this.loading=!this.loading,this.credit.description="Credit bonus for member",this.credit.membership_id=this.data.id,this.$membership.addCredit(this.credit).then((function(e){t.$bvToast.toast("Credit assigned to member successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addCredit(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Enter the amount",description:""}},[n("el-input",{attrs:{loading:t.loading,type:"number",filterable:"",remote:"","reserve-keyword":"",placeholder:"$0.00",required:""},model:{value:t.credit.amount,callback:function(e){t.$set(t.credit,"amount",e)},expression:"credit.amount"}})],1)],1),t._v(" "),n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Expiration date",description:""}},[n("el-input",{attrs:{loading:t.loading,type:"date",filterable:"",required:"",remote:"","reserve-keyword":""},model:{value:t.credit.expirationDate,callback:function(e){t.$set(t.credit,"expirationDate",e)},expression:"credit.expirationDate"}})],1)],1),t._v(" "),n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Purpose",description:""}},[n("b-form-radio",{attrs:{"aria-describedby":t.ariaDescribedby,name:"some-radios",value:"room-booking"},model:{value:t.credit.purpose,callback:function(e){t.$set(t.credit,"purpose",e)},expression:"credit.purpose"}},[t._v("Room Booking")]),t._v(" "),n("b-form-radio",{attrs:{"aria-describedby":t.ariaDescribedby,name:"some-radios",value:"event-booking"},model:{value:t.credit.purpose,callback:function(e){t.$set(t.credit,"purpose",e)},expression:"credit.purpose"}},[t._v("Event Tickets")]),t._v(" "),n("b-form-radio",{attrs:{"aria-describedby":t.ariaDescribedby,name:"some-radios",value:"food-ordering"},model:{value:t.credit.purpose,callback:function(e){t.$set(t.credit,"purpose",e)},expression:"credit.purpose"}},[t._v("Food & Drinks")])],1)],1),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Add Credit")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},480:function(t,n,r){"use strict";r(40);var o=r(12),c=(r(14),{name:"Stripecard",props:{loading:{type:Boolean,default:!1},toggleLoading:{type:Function,default:function(){}},id:{type:Number,default:1}},data:function(){return{name:"",errors:[]}},created:function(){var t=this;function e(){return(e=Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(o.a)(regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,r.tokenize();case 4:"OK"===(o=e.sent).status&&t.processInvitation(o.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)},c=function(t){return l.apply(this,arguments)},n=Square.payments("sq0idp-vX9ROmcOKd8kjXRXOuxbbg","1883YH8CHHJM4"),e.next=5,n.card();case 5:return r=e.sent,e.next=8,r.attach("#card-container");case 8:document.getElementById("card-button").addEventListener("click",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},methods:{updateCard:function(){},processInvitation:function(t){this.toggleLoading();try{this.$emit("addCard",t),this.toggleLoading()}catch(t){this.toggleLoading(),this.$bvToast.toast(e.response.data.message,{title:"Error",variant:"danger"})}}}}),l=(r(466),r(11)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{attrs:{id:"payment-form"},on:{submit:function(e){return e.preventDefault(),t.updateCard(e)}}},[n("div",{staticClass:"errorbox"},t._l(t.errors,(function(e){return n("div",{key:e.message,staticClass:"error"},[t._v("\n        "+t._s(e)+"\n      ")])})),0),t._v(" "),n("div",{attrs:{id:"card-container"}}),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{id:"card-button",disabled:t.loading,variant:"primary",type:"submit"}},[t._v("Save Card")])],1)],1)}),[],!1,null,null,null);n.a=component.exports},481:function(t,e,n){"use strict";var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"AddCustomCharge",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{data:{type:Object,default:function(){}}},data:function(){return{loading:!1,search:"",plans:[],charge:{description:null,amount:null,dueDate:null,chargeInstantly:!0}}},mounted:function(){},methods:{addCredit:function(){var t=this;this.loading=!this.loading,this.charge.space_id=this.data.space_id,this.charge.user_id=this.data.user_id,this.$membership.addCustomCharge(this.charge).then((function(e){t.$bvToast.toast("Custom charge billed to member successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addCredit(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Charge Details",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,type:"number",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"amount $"},model:{value:t.charge.amount,callback:function(e){t.$set(t.charge,"amount",e)},expression:"charge.amount"}})],1),t._v(" "),n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,type:"text",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Description"},model:{value:t.charge.description,callback:function(e){t.$set(t.charge,"description",e)},expression:"charge.description"}})],1),t._v(" "),n("b-form-group",{staticClass:"col-md-6",attrs:{label:"Charge instantly"}},[n("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:t.charge.chargeInstantly,callback:function(e){t.$set(t.charge,"chargeInstantly",e)},expression:"charge.chargeInstantly"}},[t._v("Yes")])],1),t._v(" "),t.charge.chargeInstantly?t._e():n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Charge on",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,type:"date",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Due Date"},model:{value:t.charge.dueDate,callback:function(e){t.$set(t.charge,"dueDate",e)},expression:"charge.dueDate"}})],1)],1),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Add")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},482:function(t,e,n){"use strict";var r,o=n(1),c=(n(325),n(116),n(326)),l=n.n(c),d=(n(17),n(327),n(328)),m=n.n(d),h={name:"AddFreeMonths",components:(r={},Object(o.a)(r,m.a.name,m.a),Object(o.a)(r,l.a.name,l.a),r),props:{data:{type:Object,default:function(){}}},data:function(){return{loading:!1,search:"",plans:[],billMember:!1,freeMonths:{numberOfMonths:null}}},mounted:function(){},methods:{onSubmit:function(data){this.billMember?this.billNow():this.addCredit()},addCredit:function(){var t=this;this.loading=!this.loading,this.data.spaceId=this.data.space_id,this.data.chargeId=this.data.id,this.$membership.editCustomCharge(this.data).then((function(e){t.$bvToast.toast("Charge updated successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},billNow:function(){var t=this;this.loading=!this.loading,this.data.spaceId=this.data.space_id,this.data.chargeId=this.data.id,this.$membership.billCustomCharge(this.data).then((function(e){t.$bvToast.toast("Member billed successfully",{title:"Success",variant:"success"}),location.reload()})).catch((function(e){t.loading=!t.loading;var n=e.response?"".concat(e.response.data.message," ").concat(JSON.stringify(e.response.data.errors)):e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}},v=n(11),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("b-row",[n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"Charge Details",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,disabled:"settled"===t.data.state,type:"number",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"amount $"},model:{value:t.data.amount,callback:function(e){t.$set(t.data,"amount",e)},expression:"data.amount"}})],1),t._v(" "),n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"",description:""}},[n("el-input",{attrs:{"remote-method":t.getPlans,loading:t.loading,disabled:"settled"===t.data.state,type:"text",filterable:"",remote:"","reserve-keyword":"",required:"",placeholder:"Description"},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1),t._v(" "),n("b-form-group",{staticClass:"col-md-12",attrs:{id:"selectPlan",label:"",description:""}},[n("client-only",[n("date-picker",{attrs:{id:"time",disabled:"settled"===t.data.state,width:"100%","input-class":"form-control",lang:"en",format:"YYYY-MM-DD","value-type":"format",confirm:"",type:"date",placeholder:"Start Date"},model:{value:t.data.due_date,callback:function(e){t.$set(t.data,"due_date",e)},expression:"data.due_date"}})],1)],1)],1),t._v(" "),"unsettled"===t.data.state?[n("b-button",{staticClass:"float-left",attrs:{disabled:t.loading,type:"submit",variant:"outline-primary"},on:{click:function(e){t.billMember=!0}}},[t._v("Charge Now")]),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Save")])]:t._e()],2)],1)}),[],!1,null,null,null);e.a=component.exports},483:function(t,e,n){"use strict";var r=n(331),o=(n(67),{data:function(){return{date:[],data:[],fields:["full_name","type","company","checkin_timestamp","checkout_timestamp"],meta:{},links:{}}},mounted:function(){this.date=[this.$moment().subtract(30,"days").format("YYYY-MM-DD"),this.$moment().add(1,"days").format("YYYY-MM-DD")],this.getCheckInData()},methods:{getCheckInData:function(){var t=this,filter="?filter[by_member]=".concat(this.$route.params.id,"&filter[checkin_timestamp]=").concat(this.date[0],",").concat(this.date[1]);this.$checkin.checkins(filter).then((function(e){t.data=e.data,t.meta=e.meta,t.links=e.links})).catch((function(e){Object(r.a)(e,t)}))},processRequest:function(link){var t=this;this.$axios.$get(link).then((function(e){t.data=e.data,t.meta=e.meta,t.links=e.links})).catch((function(e){Object(r.a)(e,t)}))},next:function(){var filter="&filter[by_member]=".concat(this.$route.params.id,"&filter[created_at]=").concat(this.date[0],",").concat(this.date[1]),link=this.links.next+filter;this.processRequest(link)},prev:function(){var filter="&filter[by_member]=".concat(this.$route.params.id,"&filter[created_at]=").concat(this.date[0],",").concat(this.date[1]),link=this.links.prev+filter;this.processRequest(link)}}}),c=n(11),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",[n("div",{staticClass:"d-flex align-items-center justify-content-between",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("CheckIn")]),t._v(" "),n("div",{staticStyle:{width:"200px"}},[n("no-ssr",[n("date-picker",{attrs:{id:"time",width:"100%","input-class":"form-control",lang:"en",format:"YYYY-MM-DD","value-type":"format",confirm:"",range:"",type:"date",placeholder:"Start Date"},on:{change:t.getCheckInData},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)]),t._v(" "),n("div",{staticClass:"m-n25 overflow-auto"},[n("b-table",{attrs:{items:t.data,fields:t.fields,"show-empty":"",striped:"",responsive:"sm",hover:""}})],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("base-pagination",{attrs:{total:t.meta.total,"per-page":t.meta.per_page,value:t.meta.current_page,align:"center"},on:{next:t.next,prev:t.prev}})],1)])}),[],!1,null,null,null);e.a=component.exports},484:function(t,e,n){"use strict";var r=n(331),o=(n(67),{data:function(){return{date:[],data:[],fields:["plan_name","start_date","end_date"],meta:{},links:{}}},mounted:function(){this.date=[this.$moment().subtract(30,"days").format("YYYY-MM-DD"),this.$moment().add(1,"days").format("YYYY-MM-DD")],this.getSubscriptionData()},methods:{getSubscriptionData:function(){var t=this,filter="".concat(this.$route.params.id,"/subscription/history?filter[scheduled_subscription]=false&sort=-id");this.$membership.getSubscriptionHistory(filter).then((function(e){t.data=e.data,t.meta={total:e.total,per_page:e.per_page,current_page:e.current_page},t.links={next:e.next_page_url,prev:e.prev_page_url}})).catch((function(e){Object(r.a)(e,t)}))},processRequest:function(link){var t=this;this.$axios.$get(link).then((function(e){t.data=e.data,t.meta=e.meta,t.links=e.links})).catch((function(e){Object(r.a)(e,t)}))},next:function(){var filter="&filter[by_member]=".concat(this.$route.params.id,"&filter[created_at]=").concat(this.date[0],",").concat(this.date[1]),link=this.links.next+filter;this.processRequest(link)},prev:function(){var filter="&filter[by_member]=".concat(this.$route.params.id,"&filter[created_at]=").concat(this.date[0],",").concat(this.date[1]),link=this.links.prev+filter;this.processRequest(link)}}}),c=n(11),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",[n("div",{staticClass:"d-flex align-items-center justify-content-between",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("Membership Plan History")]),t._v(" "),n("div",{staticStyle:{width:"200px"}},[n("no-ssr")],1)]),t._v(" "),n("div",{staticClass:"m-n25 overflow-auto"},[n("b-table",{attrs:{items:t.data,fields:t.fields,"show-empty":"",striped:"",responsive:"sm",hover:""},scopedSlots:t._u([{key:"cell(plan_name)",fn:function(data){return[n("b",{staticClass:"text-primary"},[t._v(t._s(data.item.subscription_name.replaceAll("-"," ").replaceAll(/[0-9]/g," ")))])]}},{key:"cell(start_date)",fn:function(data){return[n("span",[t._v(t._s(data.item.subscription_start_date))])]}},{key:"cell(end_date)",fn:function(data){return[n("span",[t._v(t._s(data.item.subscription_end_date))])]}}])})],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("base-pagination",{attrs:{total:t.meta.total,"per-page":t.meta.per_page,value:t.meta.current_page,align:"center"},on:{next:t.next,prev:t.prev}})],1)])}),[],!1,null,null,null);e.a=component.exports},485:function(t,e,n){"use strict";n(40);var r=n(12),o=n(67),c=n.n(o),l={props:{name:{type:String,default:null},label:{type:String,default:null},service:{type:String,default:"images"},url:{type:String,default:null}},data:function(){return{publicUrl:null}},methods:{onFileChange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.target.files[0]){n.next=4;break}return e.$emit("onLoad",!1),n.abrupt("return");case 4:if(!(r.size>5e5)){n.next=8;break}return e.$bvToast.toast("File size must not be greater than 500kb",{variant:"warning"}),e.$emit("onLoad",!1),n.abrupt("return");case 8:return o=r.type,e.url=URL.createObjectURL(r),n.next=12,e.getSignedUrl(o);case 12:return c=n.sent,e.publicUrl=c.public_url,e.$bvToast.toast("Uploading image. Please wait..."),n.next=17,e.uploadUrl(c.signed_url,r,o).then((function(t){e.$emit("input",e.publicUrl),e.$bvToast.toast("Image uploaded successfully",{variant:"success",solid:!0})})).catch((function(t){e.$bvToast.toast(t.message,{title:"Error",variant:"danger",solid:!0}),e.$emit("onLoad",!1)}));case 17:n.sent;case 18:case"end":return n.stop()}}),n)})))()},getSignedUrl:function(t){var e=this,n=this.service;return this.$images.getSignedUrl(n,t).then((function(t){return t.data.data})).catch((function(t){var n=t.response;e.$bvToast.toast(JSON.stringify(n.data.errors),{title:"Error",variant:"danger",solid:!0})}))},uploadUrl:function(t,e,n){var r=this;return c.a.put(t,e,{headers:{"Content-Type":n}}).then((function(t){return t})).catch((function(t){var e=t.response;r.$bvToast.toast(JSON.stringify(e.data),{variant:"danger",solid:!0})}))}}},d=(n(463),n(11)),component=Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"pd-10 upload-btn-wrapper pd-0",staticStyle:{cursor:"pointer"}},[this._m(0),this._v(" "),e("input",{attrs:{name:this.name,type:"file",accept:"image/*"},on:{change:this.onFileChange}})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn",staticStyle:{"margin-right":"0px"}},[e("i",{staticClass:"fa fa-camera",staticStyle:{"font-size":"24px",color:"white"}})])}],!1,null,null,null);e.a=component.exports},489:function(t,e,n){"use strict";var r=n(389).a,o=(n(464),n(11)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sh-p-header"},[n("span",{staticClass:"label label-default sh-label"},[t.$moment("2022-04-15 00:00:00").isSame(t.referral)?[n("i",{staticClass:"fa fa-user"}),t._v("\n      returning member />")]:[n("i",{staticClass:"fa fa-user"}),t._v("\n      Invited member\n    ")]],2),t._v(" "),n("div",{staticClass:"d-flex align-items-center pd-20 mr-5 mr-tb-20"},[n("div",{staticClass:"rounded-circle avatar-xxl",staticStyle:{position:"relative"},attrs:{id:"profile-upload-icon-container"}},[n("img",{staticClass:"mr-r-20 rounded-circle avatar-xxl",attrs:{src:t.img?t.img:"/img/placeholder.jpg"}}),t._v(" "),t.isLoading?n("div",{staticClass:"default-profile-loading rounded-circle avatar-xxl"},[n("img",{staticStyle:{width:"auto",height:"30px"},attrs:{src:"/img/loading.gif"}})]):t._e(),t._v(" "),t.isLoading?t._e():n("div",{staticClass:"default-profile-upload-state rounded-circle avatar-xxl"},[n("UploadButton",{attrs:{service:"event",label:"Upload Event Image (<500KB & size 1125x582)"},on:{input:t.imageUploaded,onLoad:t.onUploadStarted},model:{value:t.profilePic,callback:function(e){t.profilePic=e},expression:"profilePic"}})],1)]),t._v(" "),n("div",{staticStyle:{"margin-left":"10px"}},[n("h1",[t._v(t._s(t.name))]),t._v(" "),n("h3",{staticClass:"mr-b-10"},[t._v(t._s(t.company))]),t._v(" "),n("i",{staticClass:"ti-location-pin"}),t._v("\n      "+t._s(t.getCities(t.address))+"\n      "),n("br"),t._v(" "),n("i",{staticClass:"ti-calendar"}),t._v("\n      "+t._s(t.date)+"\n    ")])])])}),[],!1,null,"20a85d1a",null);e.a=component.exports},490:function(t,e,n){"use strict";var r=n(392).a,o=(n(465),n(11)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"add-note mr-lr-20 mr-b-20"},[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control dashed",attrs:{placeholder:"Notes on member goes here",rows:"3","max-rows":"6",description:"description",required:""},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}}),t._v(" "),n("b-form-checkbox",{staticClass:"mt-2",attrs:{value:!0,"unchecked-value":!1},model:{value:t.sticky_note,callback:function(e){t.sticky_note=e},expression:"sticky_note"}},[t._v("Sticky Note")]),t._v(" "),n("b-button",{staticClass:"mr-t-20 dashed",attrs:{type:"submit",variant:"outline-default",block:""}},[t._v("Add New Note")])],1)],1),t._v(" "),t._l(t.notes,(function(e,i){return n("div",{key:e.id,staticClass:"note-card pd-20"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h3",[n("i",{directives:[{name:"show",rawName:"v-show",value:e.sticky_note,expression:"note.sticky_note"}],staticClass:"ti-pin-alt mr-r-10"})]),t._v(" "),n("b-dropdown",{staticClass:"drop-0",attrs:{"no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("i",{staticClass:"fa fa-ellipsis-v"})]},proxy:!0}],null,!0)},[t._v(" "),n("b-button",{staticClass:"dropdown-item",attrs:{variant:"transparent"},on:{click:function(n){return t.updateNote(e)}}},[n("i",{staticClass:"ti-pin-alt"}),t._v(" "),e.sticky_note?n("span",[t._v("Unpin this")]):n("span",[t._v("Pin this")])]),t._v(" "),n("b-button",{staticClass:"dropdown-item text-danger",attrs:{variant:"transparent",size:"sm"},on:{click:function(e){return t.deleteNote(i)}}},[n("i",{staticClass:"ti ti-trash"}),t._v(" Delete Post")])],1)],1),t._v(" "),n("p",[t._v(t._s(e.body))]),t._v(" "),n("p",{staticClass:"text-muted m-0"},[t._v(t._s(e.user.name)+"  â€¢  "+t._s(t.$moment(e.updated_at).format("MMM DD, YYYY HH:mm:ss")))])])}))],2)}),[],!1,null,null,null);e.a=component.exports},566:function(t,e,n){"use strict";n.r(e);var r=n(388).a,o=(n(468),n(11)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("base-header",{staticClass:"pb-6",attrs:{type:""}},[n("div",{staticClass:"row py-4"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"d-flex justify-content-between"},[n("MainTitle",{attrs:{title:"Directory",subtitle:"Profile"}}),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("b-form-checkbox",{attrs:{switch:"",value:"checkin","unchecked-value":"checkout",size:"lg",variant:"success"},on:{change:t.checkinToggle},model:{value:t.checkin.status,callback:function(e){t.$set(t.checkin,"status",e)},expression:"checkin.status"}},["checkin"==t.checkin.status?n("span",{staticClass:"text-success"},[t._v("Checked in")]):n("span",{staticClass:"text-muted"},[t._v("Checked Out")])])],1)],1)]),t._v(" "),n("div",{staticClass:"col-md-6 mr-l-child-10 text-right"},[n("b-button",{staticClass:"text-primary",attrs:{to:{name:"space-memberships-id",params:{id:t.data.id}},variant:"transparent"}},[n("i",{staticClass:"fas fa-edit"}),t._v(" Edit Membership\n        ")]),t._v(" "),n("b-button",{staticClass:"text-primary",attrs:{variant:"transparent"},on:{click:function(e){t.drawer=!0}}},[n("i",{staticClass:"fa fa-sticky-note"}),t._v(" View Notes\n        ")]),t._v(" "),n("b-button",{staticClass:"text-danger",attrs:{id:"deleteMember",variant:"transparent"},on:{click:t.deleteMember}},[n("i",{staticClass:"fa fa-trash"}),t._v(" Delete Member\n        ")])],1)])]),t._v(" "),n("div",{staticClass:"container-fluid mt--6"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"card"},[n("ProfileHead",{attrs:{status:t.data.prefix_type,img:t.data.user_profile?t.data.user_profile.picture:null,name:t.data.user_profile?t.data.user_profile.full_name:t.data.first_name+" "+t.data.last_name,company:t.data.user_profile?t.data.user_profile.company:null,address:t.data.user_profile?t.data.user_profile.addresses:null,date:t.data.user_profile?t.data.user_profile.date_of_birth:null,"user-profile":t.data.user_profile,"user-id":t.data.user_id,referral:t.data.subscriptions[0].ends_at}}),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("i",{staticClass:"fa fa-envelope"}),t._v(" "+t._s(t.data.email)+"\n              ")]),t._v(" "),n("div",{staticClass:"col-md-6",staticStyle:{color:"red"}},[t.data.covid_declaration_completed?n("b-badge",{attrs:{href:"#",variant:"success"},on:{click:function(e){return t.toggleCovidCardStatus(!1)}}},[n("i",{staticClass:"fa fa-check"}),t._v(" Covid vaccination ID\n                  verfied")]):n("b-badge",{attrs:{href:"#",variant:"danger"},on:{click:function(e){return t.toggleCovidCardStatus(!0)}}},[n("i",{staticClass:"fa fa-square",staticStyle:{color:"white","margin-right":"4px"}}),t._v("\n                  Covid vaccination ID not verfied")])],1)]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-md-6"},[n("i",{staticClass:"fa fa-phone"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.phone)+"\n              ")]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("i",{staticClass:"fa fa-globe"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.nationality)+"\n              ")])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("div",{staticClass:"col-md-6"},[n("i",{staticClass:"fa fa-venus-mars"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.gender)+"\n              ")])]),t._v(" "),n("div",{staticClass:"mt-4"},[t.data.user_profile?n("div",[n("div",{staticClass:"text-muted"},[t._v("Company")]),t._v(" "),n("p",{staticClass:"mr-1 mb-2"},[t._v(t._s(t.data.user_profile.company))]),t._v(" "),n("div",{staticClass:"text-muted"},[t._v("Position")]),t._v(" "),n("p",{staticClass:"mr-1 mb-2"},[t._v(t._s(t.data.user_profile.profession))]),t._v(" "),n("div",{staticClass:"text-muted mt-2"},[t._v("Skills")]),t._v(" "),t._l(t.data.user_profile.skills,(function(e,i){return n("badge",{key:e+"-"+i,staticClass:"mr-1"},[t._v(t._s(e))])}))],2):t._e(),t._v(" "),n("div",{staticClass:"text-muted mt-3"},[t._v("Bio")]),t._v(" "),n("p",[t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.bio)+"\n              ")])]),t._v(" "),n("div",{staticClass:"mt-4"},[n("p",[n("i",{staticClass:"ti-id-badge"}),t._v(" "+t._s(t.data&&t.data.membership_id)+"\n              ")]),t._v(" "),n("p",[n("i",{staticClass:"ti-twitter-alt"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.twitter)+"\n              ")]),t._v(" "),n("p",[n("i",{staticClass:"ti-linkedin"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.linkedin)+"\n              ")]),t._v(" "),n("p",[n("i",{staticClass:"ti-world"}),t._v("\n                "+t._s(t.data.user_profile&&t.data.user_profile.website)+"\n              ")])]),t._v(" "),n("div",{staticClass:"sh-dls"},[n("span",[t._v(" Joined on:")]),t._v(" "),t.data.trial_ends_at&&"2022-04-15 00:00:00"!=t.data.trial_ends_at?[t._v(t._s(t.$moment(t.data.trial_ends_at||t.data.member_since).format("MMMM DD, YYYY")))]:[t._v(t._s(t.$moment(t.data.member_since).format("MMMM DD, YYYY")))]],2),t._v(" "),n("div",{staticClass:"sh-dls"},[n("span",[t._v("Renewal due by:")]),t._v(" "+t._s(t.getSubscription)+"\n            ")]),t._v(" "),n("div",{staticClass:"sh-dls"},[n("span",[t._v("Last Checkin Timestamp:")]),t._v("\n              "+t._s(t.data.last_checkin[0]&&t.$moment(t.data.last_checkin[0].checkin_timestamp).format("MMMM DD, YYYY HH:mm:ss"))+"\n            ")]),t._v(" "),n("hr",{staticClass:"w-25 bg-dark3 text-default",attrs:{align:"left"}}),t._v(" "),n("span",{domProps:{innerHTML:t._s(t.getExtras(t.data.extras))}}),t._v(" "),n("div",{staticClass:"sh-dls"},[n("span",[t._v(" Paid by:")]),t._v(" "),n("nuxt-link",{attrs:{to:{name:"space-memberships-id",params:{id:t.data.paid_by}}}},[t._v(t._s(t.data.payee_name))])],1),t._v(" "),n("div",{staticClass:"sh-dls"},[n("span",[t._v(" Paying for:")]),t._v(" "),t._l(t.paid_for,(function(e){return n("span",{key:e.id},[t.paid_for.length>0?n("nuxt-link",{attrs:{to:{name:"space-memberships-id",params:{id:e.id}}}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]):t._e(),t._v(",\n              ")],1)}))],2)])],1),t._v(" "),n("check-in")],1),t._v(" "),n("div",{staticClass:"col-md-6"},[n("card",{attrs:{"header-classes":"bg-transparent"}},[n("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("Card Details")]),t._v(" "),[n("b-button",{staticClass:"text-primary",attrs:{variant:"transparent"},on:{click:function(e){return t.toggleModal("add-card")}}},[n("i",{staticClass:"fa fa-credit-card"}),t._v(" Add New Card\n              ")])]],2),t._v(" "),0==t.cards.length?[n("div",{staticClass:"text-center"},[n("div",{staticClass:"text-muted"},[t._v("No card added for member")])])]:[n("div",{staticClass:"m-n25"},[n("table",{staticClass:"table table-hover table-striped"},[n("tbody",t._l(t.cards,(function(e,i){return n("tr",{key:e.id},[n("td",[t._v("\n                      "+t._s(e.card_brand)+"\n                      "+t._s("xxxx-xxxx-xxxx-"+e.last_4)+"\n                    ")]),t._v(" "),n("td",[t._v("\n                      "+t._s(t.$moment(e.exp_month,"M").format("MMM"))+"\n                      "+t._s(e.exp_year)+"\n                    ")]),t._v(" "),n("td",[n("b-button",{staticClass:"text-danger",attrs:{disabled:t.loading,size:"\n                        sm",variant:"transparent"},on:{click:function(e){return t.removeMemberSource(i)}}},[n("i",{staticClass:"fa fa-trash"})])],1)])})),0)])])]],2),t._v(" "),n("card",[n("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("SHACK15 CREDIT")]),t._v(" "),n("b-button",{staticClass:"text-primary",attrs:{id:"addPlanBtn",variant:"transparent"},on:{click:function(e){return t.toggleModal("add-credit")}}},[n("i",{staticClass:"fa fa-plus"}),t._v(" Add Credit\n            ")])],1),t._v(" "),n("div",{staticClass:"m-n25"},[n("table",{staticClass:"table table-hover table-striped"},[n("tbody",[n("tr",[n("div",{staticStyle:{display:"flex"}},[n("td",{attrs:{id:"balance"}},[n("div",{staticStyle:{display:"inline-block"},on:{click:function(e){t.booking_edit_disabled=null==t.data.room_booking_credit_expiration_date},change:function(e){t.booking_edit_disabled=!0}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.room_booking_credit_amount,expression:"data.room_booking_credit_amount"}],attrs:{disabled:t.booking_edit_disabled?"disabled":t.none,type:"number"},domProps:{value:t.data.room_booking_credit_amount},on:{input:function(e){e.target.composing||t.$set(t.data,"room_booking_credit_amount",e.target.value)}}})]),t._v(" "),t.data.room_booking_credit_amount!==t.previousRoomCreditBalance?n("b-button",{staticClass:"text-primary",attrs:{id:"save-credit",size:"sm",variant:"transparent"},on:{click:function(e){return t.saveChanges("room-booking")}}},[n("i",{staticClass:"fa fa-save"})]):t._e(),t._v(" "),t.data.room_booking_credit_amount!==t.previousRoomCreditBalance?n("b-popover",{attrs:{target:"save-credit",placement:"top",content:"Save changes",triggers:"hover focus"}}):t._e()],1),t._v(" "),n("td",{staticStyle:{"flex-grow":"1","flex-basis":"80px","text-align":"left"}},[t._v("\n                      expires on:\n                      "+t._s(t.getExpDetails(t.data.room_booking_credit_expiration_date))+"\n                    ")]),t._v(" "),n("td",[n("b-badge",{attrs:{href:"#",variant:"primary"}},[t._v(" Rooms")])],1)])])])])])]),t._v(" "),n("card",[n("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("NUMBER OF GUESTS ALLOWED")])]),t._v(" "),n("div",{staticClass:"m-n25"},[n("table",{staticClass:"table table-hover table-striped"},[n("tbody",[n("tr",[n("div",[n("td",{attrs:{id:"member_guests"}},[n("div",{staticStyle:{display:"inline-block"},on:{click:function(e){t.guestsDisabled=!1},change:function(e){t.guestsDisabled=!0}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.member_guests,expression:"member_guests"}],attrs:{disabled:t.guestsDisabled?"disabled":t.none,type:"number"},domProps:{value:t.member_guests},on:{input:function(e){e.target.composing||(t.member_guests=e.target.value)}}})]),t._v(" "),n("b-popover",{attrs:{target:"member_guests",placement:"top",triggers:"hover focus"}})],1),t._v(" "),n("td",[n("b-button",{staticClass:"text-danger",attrs:{id:"edit-guests",size:"sm",variant:"transparent"},on:{click:function(e){t.guestsDisabled=!1}}},[n("i",{staticClass:"fa fa-edit"})]),t._v(" "),n("b-button",{staticClass:"text-primary",attrs:{id:"save-member_guests",size:"sm",variant:"transparent"},on:{click:t.saveMemberGuests}},[n("i",{staticClass:"fa fa-save"})]),t._v(" "),n("b-popover",{attrs:{target:"edit-guests",placement:"top",content:"Edit guests",triggers:"hover focus"}})],1)])])])])])]),t._v(" "),n("card",[n("div",{staticClass:"d-flex justify-content-between align-items-center",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[n("span",[t._v("MEMBERSHIP PLAN ")]),t._v(" "),n("div",{staticStyle:{display:"inline-flex","flex-direction":"column"}},[t.scheduledSubscription.length>0?n("badge",{staticStyle:{"margin-left":"20px","margin-bottom":"2px"}},[t._v("change to\n                  "+t._s(t.scheduledSubscription[0].subscription_name)+"\n                  /\n                  "+t._s(t.$moment(t.scheduledSubscription[0].subscription_start_date).format("MMM Do YYYY")))]):t._e(),t._v(" "),"paused"===t.data.subscriptions[0].state&&null==t.data.subscriptions[0].resume_on?n("b-badge",{staticStyle:{"margin-left":"20px"},attrs:{pill:"",variant:"danger"}},[t._v(t._s("Paused on: ")),n("span",{staticStyle:{color:"black"}},[t._v(t._s(t.$moment(t.data.subscriptions[0].paused_at).format("MMM Do YYYY")))])]):t._e(),t._v(" "),null!=t.data.subscriptions[0].resume_on&&"paused"===t.data.subscriptions[0].state?n("b-badge",{staticStyle:{"margin-left":"20px"},attrs:{pill:"",variant:"primary"}},[t._v(t._s("Auto-resume on: ")),n("span",{staticStyle:{color:"black"}},[t._v(t._s(t.$moment(t.data.subscriptions[0].resume_on).format("MMM Do YYYY")))])]):t._e(),t._v(" "),null!=t.data.subscriptions[0].paused_at&&"paused"!=t.data.subscriptions[0].state?n("b-badge",{staticStyle:{"margin-left":"20px"},attrs:{pill:"",variant:"danger"}},[t._v(t._s("Auto-pause on: ")),n("span",{staticStyle:{color:"black"}},[t._v(t._s(t.$moment(t.data.subscriptions[0].paused_at).format("MMM Do YYYY")))])]):t._e()],1)]),t._v(" "),n("b-button",{staticClass:"text-primary",staticStyle:{visibility:"hidden"},attrs:{id:"addPlanBtn",variant:"transparent"},on:{click:function(e){return t.toggleModal("add-plan")}}},[n("i",{staticClass:"fa fa-plus"}),t._v(" Add New Plan\n            ")])],1),t._v(" "),n("div",{staticClass:"m-n25"},[n("table",{staticClass:"table table-hover table-striped"},[n("tbody",t._l(t.data.subscriptions,(function(e){return n("tr",{key:e.id},[e.canceled_at?t._e():n("div",[n("td",[t._v(t._s(t.getSubName(e).name))]),t._v(" "),n("td",{staticStyle:{width:"100%"}},[t._v("\n                      Exp. "+t._s(t.getSubDetails(e))+"\n                    ")]),t._v(" "),n("td",[n("b-dropdown",{staticStyle:{padding:"0px"},attrs:{right:"","no-caret":"true",variant:"transparent"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}],null,!0)},[t._v(" "),t.scheduledSubscription.length>0?n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.cancelScheduledPlanChange()}}},[t._v("Cancel Auto-change Plan")]):"paused"!=e.state&&null==e.paused_at?n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.pauseMembership()}}},[t._v("Pause Subscription")]):"paused"!=e.state&&null!=e.paused_at?n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.resumeMembership()}}},[t._v("Cancel Auto-Pause")]):n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return t.resumeMembership()}}},[t._v("Resume Subscription")]),t._v(" "),n("b-dropdown-divider"),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(n){return t.changePlan(e)}}},[t._v("Change Plan")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(n){return t.makePlanPrimary(e)}}},[t._v("Make This Plan Primary")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#"},on:{click:function(n){return t.cancelPlan(e)}}},[t._v("Cancel Plan")]),t._v(" "),n("div",{staticClass:"dropdown-item"},[n("div",{staticStyle:{display:"inline-block"}},[t._v("Auto Renew")]),t._v(" "),n("div",{staticStyle:{display:"inline-block"}},[n("b-form-checkbox",{attrs:{switch:"",value:"active","unchecked-value":"manual-active",size:"lg",variant:"success"},on:{change:t.autoRenewSubscriptionToggle},model:{value:e.state,callback:function(n){t.$set(e,"state",n)},expression:"subscription.state"}},["active"==e.state?n("span",{staticClass:"text-success",staticStyle:{visibility:"hidden"}},[t._v("A")]):n("span",{staticClass:"text-muted",staticStyle:{visibility:"hidden"}},[t._v("M")])])],1)]),t._v(" "),n("div",{staticClass:"dropdown-item"},[n("div",{staticStyle:{display:"inline-block"}},[t._v("\n                            Free Membership\n                          ")]),t._v(" "),n("div",{staticStyle:{display:"inline-block"}},[n("b-form-checkbox",{attrs:{switch:"",value:"true","unchecked-value":"false",size:"lg",variant:"success"},on:{change:t.freeSubscriptionToggle},model:{value:t.data.renew_for_free,callback:function(e){t.$set(t.data,"renew_for_free",e)},expression:"data.renew_for_free"}},[t.data.renew_for_free?n("span",{staticClass:"text-success",staticStyle:{visibility:"hidden"}},[t._v("A")]):n("span",{staticClass:"text-muted",staticStyle:{visibility:"hidden"}},[t._v("M")])])],1)])],1)],1)])])})),0)])])]),t._v(" "),n("subscription-history"),t._v(" "),n("card",[n("div",{staticClass:"d-flex justify-content-between",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"txt-upper"},[t._v("Events")])]),t._v(" "),[n("div",{staticClass:"m-n25"},[n("div",{staticClass:"overflow-auto"},[n("b-table",{attrs:{id:"my-table",items:t.events,"per-page":t.perPage,"current-page":t.currentPage,striped:"",hover:"","show-empty":"","thead-class":"hidden_header"}})],1)]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("b-pagination",{attrs:{"per-page":t.perPage,"total-rows":t.rows,align:"center","aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]],2)],1)])]),t._v(" "),n("b-modal",{attrs:{id:"change-plan",title:"Change Current Plan","hide-footer":""}},[n("ChangePlan",{attrs:{plan_id:t.plan_id}})],1),t._v(" "),n("b-modal",{attrs:{id:"pause-membership",title:"Pause Membership","hide-footer":""}},[n("PauseMembership",{attrs:{plan_id:t.plan_id,data:t.data}})],1),t._v(" "),n("b-modal",{attrs:{id:"add-plan",static:!0,title:"Add New Plan","hide-footer":""}},[n("AddPlan",{attrs:{cards:t.cards}})],1),t._v(" "),n("b-modal",{attrs:{id:"add-credit",static:!0,title:"Add Credit","hide-footer":""}},[n("AddCredit",{attrs:{data:t.data}})],1),t._v(" "),n("b-modal",{attrs:{id:"add-card",title:"Add New Card","hide-footer":""}},[n("AddCard",{attrs:{"toggle-loading":t.toggleLoading,loading:t.loading},on:{addCard:t.addCard}})],1),t._v(" "),n("b-modal",{attrs:{id:"add-custom-charge",title:"Add Custom Charge","hide-footer":""}},[n("AddCustomCharge",{attrs:{data:t.data}})],1),t._v(" "),n("b-modal",{attrs:{id:"edit-custom-charge",title:"Edit Charge","hide-footer":""}},[n("EditCustomCharge",{attrs:{data:t.selctedItemData}})],1),t._v(" "),n("el-drawer",{attrs:{visible:t.drawer,direction:t.direction,title:"Notes"},on:{"update:visible":function(e){t.drawer=e}}},[n("MembershipNotes",{attrs:{membership_id:t.data.id}})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);