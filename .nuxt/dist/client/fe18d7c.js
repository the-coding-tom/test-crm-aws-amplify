(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{322:function(e,t,r){"use strict";var n={props:{title:{type:String,default:""},subtitle:{type:String,default:""},info:{type:String,default:""}}},o=r(11),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"page-title"},[r("span",[e._v(e._s(e.title))]),e._v(" "),r("b",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v("•")]),e._v(" "+e._s(e.subtitle))])}),[],!1,null,null,null);t.a=component.exports},323:function(e,t,r){"use strict";var n={props:{title:{type:String,default:null},subtitle:{type:String,default:null}}},o=r(11),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h3",{staticClass:"page-title"},[r("span",[e._v(e._s(e.title))]),e._v(" "),r("b",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v("•")]),e._v(" "+e._s(e.subtitle))])}),[],!1,null,null,null);t.a=component.exports},371:function(t,r,n){"use strict";(function(t){n(9),n(3),n(7),n(6),n(5),n(8),n(40);var o,l=n(12),c=n(1),m=(n(325),n(116),n(326)),d=n.n(m),f=(n(17),n(327),n(328)),h=n.n(f),v=n(322),_=n(323),y=n(407),x=n(44);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}r.a={layout:"ShackDash",components:(o={MainTitle:v.a,MembershipPlans:y.a,SectionTitle:_.a},Object(c.a)(o,h.a.name,h.a),Object(c.a)(o,d.a.name,d.a),o),asyncData:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$plan,n=e.error,t.next=3,r.getAllPlans().then((function(e){return{plans:e.data,links:e.links,meta:e.meta}})).catch((function(e){n({statusCode:e.statusCode,message:e.response?JSON.stringify(e.response.data.errors):e.message})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{data:[],cards:[],admins:[],loading:!1,searching:!1,options:[{text:"Referral",value:"referral"},{text:"Application",value:"application"},{text:"Past Events",value:"past_events"},{text:"Invite Card",value:"invite_card"}],prefix_type:[{text:"Founding Member",value:"0"},{text:"Fast Track",value:"1"},{text:"Early Invite",value:"2"},{text:"General Member",value:"3"}],prefix_locality:[{text:"Bay Area",value:"A"},{text:"US outside of the Bay",value:"B"},{text:"EMEA",value:"C"},{text:"APAC",value:"D"}],membership:{first_name:"",last_name:"",linkedin_url:"",membership_id:"",email:"",extras:[{type:"referral",comment:""}],founding_member:!1,trial:!1,paid_for:!1,trial_days:"0",prefix_type:"0",prefix_locality:"A",paid_by:null,assigned_admin:null,trial_ends_at:null}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(x.b)({space:function(e){return e.space.currentSpace}})),mounted:function(){this.membership.start_time=this.$moment().format("YYYY-MM-DD"),this.membership.end_time=this.$moment().add(1,"year").format("YYYY-MM-DD")},methods:{next:function(){var e=this,t=this.links.next;this.$axios.$get(t).then((function(t){var data=t.data,r=t.links,meta=t.meta;e.plans=data,e.links=r,e.meta=meta})).catch((function(t){e.$bvToast.toast(t.response?JSON.stringify(t.response.data.errors):t.message,{title:"Error",variant:"danger"})}))},prev:function(){var e=this,t=this.links.prev;this.$axios.$get(t).then((function(t){var data=t.data,r=t.links,meta=t.meta;e.plans=data,e.links=r,e.meta=meta})).catch((function(t){e.$bvToast.toast(t.response?JSON.stringify(t.response.data.errors):t.message,{title:"Error",variant:"danger"})}))},toggleLoading:function(){this.loading=!this.loading},addNewMembership:function(){var e=this;this.loading=!this.loading;var t=this.membership;t.added_directly_into_directory=!0,t.email=t.email.toLowerCase(),this.$membership.addMembership(t).then((function(t){e.$bvToast.toast("Membership created successfully. Proceed to invite member",{title:"Membership Creation",variant:"success"}),e.$router.push({name:"space-memberships-uninvited"})})).catch((function(t){e.loading=!e.loading;var r=t.response?"".concat(t.response.data.message," ~ ").concat(JSON.stringify(t.response.data.errors)):t.message;e.$bvToast.toast(r,{title:"Error",variant:"danger"})}))},searchMembers:function(e){var link="filter[search]=".concat(e);this.searching=!this.searching;var r=this;t.debounce((function(){r.$membership.getAllMemberships(link).then((function(e){var data=e.data;r.searching=!r.searching,r.data=data}))}),350)()},searchAdmins:function(t){var r=this,link="/".concat(this.space.subdomain,"/admins?filter[name]=").concat(t);this.$admin.getAllAdmins(link).then((function(e){r.admins=e.data})).catch((function(t){var r=e.response?"".concat(e.response.data.message," ~ ").concat(JSON.stringify(e.response.data.errors)):e.message;error({statusCode:err.status||404,message:r})}))},getCards:function(e){var r=this;this.$membership.getPaymentMethods(e).then((function(e){t.each(e.data,(function(e){r.cards.push({text:"".concat(e.card_brand," - **** ").concat(e.last_4),value:e.id})}))})).catch((function(e){var t=e.response?"".concat(e.response.data.message," ~ ").concat(JSON.stringify(e.response.data.errors)):e.message;r.$bvToast.toast(t,{variant:"danger",title:"Error"})}))}}}}).call(this,n(206))},407:function(e,t,r){"use strict";r(9),r(3),r(7),r(6),r(5),r(8);var n=r(1),o=r(44);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var c={props:{plans:{type:Array,default:null}},data:function(){return{selectedPlan:"",accordion:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.b)({space:function(e){return e.space.currentSpace}})),mounted:function(){this.selectedPlan=this.plans[0].id,this.$emit("input",this.selectedPlan),this.accordion=this.selectedPlan},methods:{getCycleDuration:function(e){return e>=12?"/yr":"/m"},changeAccordion:function(e){this.accordion=e},changePlan:function(e){this.$emit("input",e)}}},m=r(11),component=Object(m.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sh-accordion",attrs:{role:"tablist"}},e._l(e.plans,(function(t){return r("div",{key:t.id,staticClass:"sh-accordion-item"},[r("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}},{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+t.id,expression:"'accordion-' + plan.id"}],staticClass:"d-flex justify-content-between",attrs:{block:"",href:"javascript:void(0)"}},[r("div",{staticClass:"sh-acc-title"},[e._v("\n        "+e._s(t.name)+" ("+e._s(e._f("currency")(t.price,e.space.currency_symbol))+" "+e._s(e.getCycleDuration(t.invoice_period))+") "),r("i",{staticClass:"fa fa-angle-down"})]),e._v(" "),r("b-form-radio",{attrs:{value:t.id,name:"plan"},on:{change:e.changePlan},model:{value:e.selectedPlan,callback:function(t){e.selectedPlan=t},expression:"selectedPlan"}},[e._v("Select this plan")])],1),e._v(" "),r("b-collapse",{attrs:{id:"accordion-"+t.id,visible:"",accordion:"my-accordion",role:"tabpanel"}},[e._v("\n      "+e._s(t.description)+"\n    ")])],1)})),0)}),[],!1,null,null,null);t.a=component.exports},559:function(e,t,r){"use strict";r.r(t);var n=r(371).a,o=r(11),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.addNewMembership(t)}}},[r("base-header",{staticClass:"pb-6",attrs:{type:""}},[r("div",{staticClass:"d-flex justify-content-between align-items-center py-4"},[r("MainTitle",{attrs:{title:"Members",subtitle:"Recently Active"}}),e._v(" "),r("b-button",{attrs:{disabled:e.loading,type:"submit",variant:"primary"}},[e._v("Add Member")])],1)]),e._v(" "),r("div",{staticClass:"container-fluid mt--6"},[r("div",{staticClass:"card-deck flex-column flex-xl-row"},[r("card",[r("div",{staticClass:"mr-30"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-5"},[r("h3",{staticClass:"mb-4"},[e._v("Personal Details")]),e._v(" "),r("b-form-group",{attrs:{label:"First Name"}},[r("b-form-input",{attrs:{id:"firstName",placeholder:"First Name",required:""},model:{value:e.membership.first_name,callback:function(t){e.$set(e.membership,"first_name",t)},expression:"membership.first_name"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Last Name"}},[r("b-form-input",{attrs:{id:"lastName",placeholder:"Last Name",required:""},model:{value:e.membership.last_name,callback:function(t){e.$set(e.membership,"last_name",t)},expression:"membership.last_name"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Email"}},[r("b-form-input",{attrs:{id:"email",type:"email",autocomplete:"Email",placeholder:"you@somemail.com",required:""},model:{value:e.membership.email,callback:function(t){e.$set(e.membership,"email",t)},expression:"membership.email"}})],1),e._v(" "),r("base-input",{attrs:{id:"linkedinURL",required:!1,type:"url",label:"Linkedin",placeholder:"https://linkedin.com/in/someone"},model:{value:e.membership.linkedin_url,callback:function(t){e.$set(e.membership,"linkedin_url",t)},expression:"membership.linkedin_url"}}),e._v(" "),r("b-form-group",{attrs:{label:"Source of Invitation"}},[r("b-form-select",{attrs:{id:"invitationSource",options:e.options},model:{value:e.membership.extras[0].type,callback:function(t){e.$set(e.membership.extras[0],"type",t)},expression:"membership.extras[0].type"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Comments"}},[r("b-form-textarea",{attrs:{id:"comments",placeholder:"Comments to save on this member"},model:{value:e.membership.extras[0].comment,callback:function(t){e.$set(e.membership.extras[0],"comment",t)},expression:"membership.extras[0].comment"}})],1)],1),e._v(" "),r("div",{staticClass:"col-md-1"}),e._v(" "),r("div",{staticClass:"col-md-5"},[r("h3",{staticClass:"mb-4"},[e._v("Membership Details")]),e._v(" "),r("b-form-group",{attrs:{label:"Membership Type"}},[r("b-form-select",{attrs:{id:"memberType",options:e.prefix_type},model:{value:e.membership.prefix_type,callback:function(t){e.$set(e.membership,"prefix_type",t)},expression:"membership.prefix_type"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Region"}},[r("b-form-select",{attrs:{id:"region",options:e.prefix_locality},model:{value:e.membership.prefix_locality,callback:function(t){e.$set(e.membership,"prefix_locality",t)},expression:"membership.prefix_locality"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Assigned Admin"}},[r("el-select",{attrs:{id:"chooseAdmin","remote-method":e.searchAdmins,loading:e.searching,filterable:"",remote:"","reserve-keyword":"",placeholder:"Choose an admin"},model:{value:e.membership.assigned_admin,callback:function(t){e.$set(e.membership,"assigned_admin",t)},expression:"membership.assigned_admin"}},e._l(e.admins,(function(option){return r("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1)],1),e._v(" "),r("b-form-group",{attrs:{label:"Start Date"}},[r("client-only",[r("date-picker",{attrs:{id:"startDate",width:"100%","input-class":"form-control",lang:"en",format:"YYYY-MM-DD","value-type":"format",confirm:"",type:"date",placeholder:"Start Date"},model:{value:e.membership.trial_ends_at,callback:function(t){e.$set(e.membership,"trial_ends_at",t)},expression:"membership.trial_ends_at"}})],1)],1),e._v(" "),e.membership.trial?r("b-form-group",{attrs:{label:"Trial Days",description:"Number of days before member is charged"}},[r("b-form-input",{attrs:{id:"trialDays",min:"0",type:"number",required:""},model:{value:e.membership.trial_days,callback:function(t){e.$set(e.membership,"trial_days",t)},expression:"membership.trial_days"}})],1):e._e(),e._v(" "),r("b-form-group",{attrs:{label:"Paid for"}},[r("b-form-checkbox",{attrs:{id:"isPaidFor",value:!0,"unchecked-value":!1},model:{value:e.membership.paid_for,callback:function(t){e.$set(e.membership,"paid_for",t)},expression:"membership.paid_for"}},[e._v("Yes")])],1),e._v(" "),e.membership.paid_for?r("b-form-group",{attrs:{label:"Paid by"}},[r("el-select",{attrs:{"remote-method":e.searchMembers,loading:e.searching,filterable:"",remote:"","reserve-keyword":"",placeholder:"Choose a member"},model:{value:e.membership.paid_by,callback:function(t){e.$set(e.membership,"paid_by",t)},expression:"membership.paid_by"}},e._l(e.data,(function(option){return r("el-option",{key:option.id,attrs:{label:option.first_name+" "+option.last_name,value:option.id}})})),1)],1):e._e()],1),e._v(" "),r("div",{staticClass:"col-md-1"})])]),e._v(" "),r("div",{staticClass:"col-md-5"},[r("h3",{staticClass:"mb-4"},[e._v("Pick Membership Plan")]),e._v(" "),r("MembershipPlans",{attrs:{id:"plan",plans:e.plans},model:{value:e.membership.plan_id,callback:function(t){e.$set(e.membership,"plan_id",t)},expression:"membership.plan_id"}}),e._v(" "),r("div",{staticClass:"mr-t-20"},[r("base-pagination",{attrs:{total:e.meta.total,"per-page":e.meta.per_page,value:e.meta.current_page,align:"center"},on:{next:e.next,prev:e.prev}})],1)],1)])])])],1)])],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);