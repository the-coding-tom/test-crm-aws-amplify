(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{322:function(e,t,n){"use strict";var o={props:{title:{type:String,default:""},subtitle:{type:String,default:""},info:{type:String,default:""}}},r=n(11),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"page-title"},[n("span",[e._v(e._s(e.title))]),e._v(" "),n("b",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v("•")]),e._v(" "+e._s(e.subtitle))])}),[],!1,null,null,null);t.a=component.exports},323:function(e,t,n){"use strict";var o={props:{title:{type:String,default:null},subtitle:{type:String,default:null}}},r=n(11),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",{staticClass:"page-title"},[n("span",[e._v(e._s(e.title))]),e._v(" "),n("b",{directives:[{name:"show",rawName:"v-show",value:e.subtitle,expression:"subtitle"}]},[e._v("•")]),e._v(" "+e._s(e.subtitle))])}),[],!1,null,null,null);t.a=component.exports},332:function(e,t,n){"use strict";var o={props:{loading:{type:Boolean,default:!1},required:{type:Boolean,default:!0}},data:function(){return{searchTerm:""}},methods:{search:function(){this.$emit("input",this.searchTerm),this.$emit("search",this.searchTerm)}}},r=n(11),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[n("base-input",{staticClass:"mb-0",attrs:{"input-group-classes":"input-group-merge sh-search",group:""}},[n("template",{slot:"prepend"},[n("i",{staticClass:"fa fa-search"})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{required:e.required,type:"text",placeholder:"Looking for ...","aria-describedby":"button-addon2"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-default",attrs:{id:"button-addon2",disabled:e.loading,type:"submit"}},[e.loading?n("i",{staticClass:"fa fa-spinner fa-spin"}):n("span",[e._v("\n            Search")])])])],2)],1)}),[],!1,null,null,null);t.a=component.exports},358:function(e,t,n){"use strict";(function(e){n(9),n(3),n(7),n(6),n(5),n(8),n(15),n(40);var o,r=n(12),c=n(1),l=(n(333),n(116),n(334)),d=n.n(l),v=(n(335),n(336)),m=n.n(v),f=(n(415),n(416)),h=n.n(f),_=(n(417),n(418)),y=n.n(_),w=(n(419),n(420)),O=n.n(w),j=(n(325),n(326)),I=n.n(j),C=(n(17),n(327),n(328)),S=n.n(C),x=n(446),k=n(447),$=n(474),D=n(322),P=n(332),T=n(323),A=n(13),N=n(44);function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}t.a={layout:"ShackDash",components:(o={MainTitle:D.a,SectionTitle:T.a,SearchForm:P.a,InvoiceTable:$.a},Object(c.a)(o,S.a.name,S.a),Object(c.a)(o,I.a.name,I.a),Object(c.a)(o,O.a.name,O.a),Object(c.a)(o,y.a.name,y.a),Object(c.a)(o,h.a.name,h.a),Object(c.a)(o,m.a.name,m.a),Object(c.a)(o,d.a.name,d.a),o),asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,t.next=3,n.dispatch("invoice/getAllInvoices");case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{projects:x.a,users:k.a,modals:{classic:!1},companies:[],searching:!1,company_id:null,loadingSearch:!1,invMonth:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(N.b)({invoices:function(e){return e.invoice.rooms.invoices},meta:function(e){return e.resources.rooms.meta},links:function(e){return e.resources.rooms.links}})),created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$company.getCompanies();case 2:n=t.sent,data=n.data,e.companies=data;case 5:case"end":return t.stop()}}),t)})))()},methods:{searchCompany:function(t){this.searching=!this.searching;var n=this;e.debounce((function(){n.$company.getCompanyByName(t).then((function(e){var data=e.data;n.searching=!n.searching,n.data=data}))}),350)()},createInvoice:function(){var data={company_id:this.company_id,space:this.$store.state.space.currentSpace.subdomain};this.$store.commit("invoice/initiateInvoice",data)},getInvoiceResult:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var o,data,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loadingSearch=!0,n.prev=1,n.next=4,t.$invoice.searchInvoice(e);case 4:o=n.sent,data=o.data,r=[],data.data.map((function(e){var n={company:e.company.name,date:t.$moment(e.created_at).format("LL"),contact_person:e.company.contact_name,id:e.id,invoice_number:e.inv_number,paid:e.paid,finalize:e.finalize,sent:e.sent,amount:e.total_amount,void:e.void,invProps:e};r.push(n)})),t.$store.commit("invoice/setTableInvoices",r),t.loadingSearch=!1,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),t.loadingSearch=!1,t.$bvToast.toast("".concat(n.t0.response?JSON.stringify(n.t0.response.data.errors):n.t0.message),A.a.notify.error);case 16:case"end":return n.stop()}}),n,null,[[1,12]])})))()},filterInv:function(e){this.$store.dispatch("invoice/filterInvoice",e)}}}}).call(this,n(206))},359:function(e,t,n){},446:function(e,t,n){"use strict";t.a=[{img:"img/theme/bootstrap.jpg",title:"Argon Design System",budget:"$2500 USD",status:"pending",statusType:"warning",completion:60},{img:"img/theme/angular.jpg",title:"Angular Now UI Kit PRO",budget:"$1800 USD",status:"completed",statusType:"success",completion:100},{img:"img/theme/sketch.jpg",title:"Black Dashboard",budget:"$3150 USD",status:"delayed",statusType:"danger",completion:72},{img:"img/theme/react.jpg",title:"React Material Dashboard",budget:"$4400 USD",status:"on schedule",statusType:"info",completion:90},{img:"img/theme/vue.jpg",title:"Vue Paper UI Kit PRO",budget:"$2200 USD",status:"completed",statusType:"success",completion:100},{img:"img/theme/bootstrap.jpg",title:"Argon Design System",budget:"$2500 USD",status:"pending",statusType:"warning",completion:60},{img:"img/theme/angular.jpg",title:"Angular Now UI Kit PRO",budget:"$1800 USD",status:"completed",statusType:"success",completion:100},{img:"img/theme/sketch.jpg",title:"Black Dashboard",budget:"$3150 USD",status:"delayed",statusType:"danger",completion:72},{img:"img/theme/vue.jpg",title:"Vue Paper UI Kit PRO",budget:"$2200 USD",status:"completed",statusType:"success",completion:100}]},447:function(e,t,n){"use strict";t.a=[{id:1,name:"John Michael",image:"img/theme/team-1.jpg",createdAt:"10/09/2018",product:"Argon Dashboard PRO",active:!0},{id:2,name:"Alexandra Smith",image:"img/theme/team-2.jpg",createdAt:"08/09/2018",product:"Argon Design System",active:!1},{id:3,name:"Samantha Ivy",image:"img/theme/team-3.jpg",createdAt:"30/08/2018",product:"Black Dashboard",active:!1},{id:4,name:"John Michael",image:"img/theme/team-1.jpg",createdAt:"10/09/2018",product:"Argon Dashboard PRO",active:!0},{id:5,name:"Alexandra Smith",image:"img/theme/team-2.jpg",createdAt:"30/09/2018",product:"Vue Argon Dashboard",active:!0}]},448:function(e,t,n){"use strict";var o=n(359);n.n(o).a},474:function(e,t,n){"use strict";n(9),n(3),n(7),n(6),n(5),n(8),n(14);var o,r=n(1),c=(n(415),n(116),n(416)),l=n.n(c),d=(n(417),n(418)),v=n.n(d),m=(n(419),n(420)),f=n.n(m),h=(n(333),n(334)),_=n.n(h),y=(n(17),n(335),n(336)),w=n.n(y),O=n(323),j=n(44);function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var C={components:(o={},Object(r.a)(o,w.a.name,w.a),Object(r.a)(o,_.a.name,_.a),Object(r.a)(o,f.a.name,f.a),Object(r.a)(o,v.a.name,v.a),Object(r.a)(o,l.a.name,l.a),Object(r.a)(o,"SectionTitle",O.a),o),props:{itemLimit:{type:Number,default:1},showModal:{type:Boolean,default:!1}},data:function(){return{showByIndex:null,modals:{classic:!1,notice:!1,form:!1},addInvoice:{description:"",company_id:"",days_until_due:0,items:[],footer:"",notes:"",id:null,inv_number:null}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(j.b)({invoice:function(e){return e.invoice.invoiceTable},currency_symbol:function(e){return e.space.currentSpace.currency_symbol},meta:function(e){return e.invoice.invoices.meta},links:function(e){return e.invoice.invoices.links},space:function(e){return e.space.currentSpace.subdomain}})),methods:{next:function(){var e=this.links.next;this.$invoice.getAllInvoice(e)},prev:function(){var e=this.links.prev;this.$invoice.getAllInvoice(e)},openUpdateBox:function(e){this.addInvoice.id=e.id,this.addInvoice.description=e.description,this.addInvoice.footer=e.footer,this.addInvoice.notes=e.notes,this.addInvoice.inv_number=e.inv_number,this.addInvoice.days_until_due=e.day_until_due,this.modals.classic=!0},updateInvoice:function(){this.$store.dispatch("invoice/updateInvoice",this.addInvoice),this.modals.classic=!1},finalizeInv:function(e){var data={description:e.description,company_id:e.company.uuid,notes:e.notes,days_until_due:e.days_until_due,footer:e.footer,items:e.invoice_items,id:e.id};confirm("Are you sure?")&&this.$store.dispatch("invoice/finalizeInv",data)},writeOff:function(e){confirm("Are you sure?")&&this.$store.dispatch("invoice/writeOffInv",e)},sendInv:function(e){confirm("Are you sure want to send this invoice?")&&this.$store.dispatch("invoice/sendInv",e)}}},S=n(11),component=Object(S.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("el-table",{staticClass:"table table-hover table-striped",attrs:{data:e.invoice,"header-row-class-name":"thead-light"}},[n("el-table-column",{attrs:{label:"No.",prop:"inv_id",width:"155",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("a",{attrs:{href:"/"+e.space+"/invoice/preview/"+o.id}},[e._v(e._s(o.invoice_number))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Date",prop:"inv_date",width:"200",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"float-left"},[e._v("\n          "+e._s(o.date)+"\n        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Name  /  Company",prop:"name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[n("div",{staticClass:"d-flex justify-content-between"},[n("div",[e._v("\n            "+e._s(o.contact_person)+"\n          ")]),e._v(" "),n("div",{staticClass:"text-muted"},[e._v("\n            "+e._s(o.company)+"\n          ")])]),e._v(" "),n("div",{staticClass:"d-flex justify-content-between inv-links"},[o.finalize?e._e():n("a",{on:{click:function(t){return e.openUpdateBox(o.invProps)}}},[n("i",{staticClass:"fa fa-pen"}),e._v(" Edit")]),e._v(" "),o.sent?e._e():n("a",{on:{click:function(t){return e.sendInv(o.invProps.id)}}},[n("i",{staticClass:"fa fa-envelope"}),e._v(" Send")]),e._v(" "),o.sent?n("a",{on:{click:function(t){return e.sendInv(o.invProps.id)}}},[n("i",{staticClass:"fa fa-envelope"}),e._v(" Resend")]):e._e(),e._v(" "),o.written_off?e._e():n("a",{on:{click:function(t){return e.writeOff(o.invProps.id)}}},[n("i",{staticClass:"fa fa-times"}),e._v(" Writeoff")]),e._v(" "),o.finalize?e._e():n("a",{on:{click:function(t){return e.finalizeInv(o.invProps)}}},[n("i",{staticClass:"fa fa-check"}),e._v(" finalize")])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Amount",align:"right",width:"350",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[e._v("\n        "+e._s(e.currency_symbol)+e._s(o.amount)+"\n        "),n("div",{},[o.void?n("badge",{attrs:{type:"primary"}},[e._v("\n            void\n          ")]):e._e(),e._v(" "),o.paid?n("badge",{attrs:{type:"danger"}},[e._v("\n            paid\n          ")]):e._e(),e._v(" "),o.sent?n("badge",{attrs:{type:"success"}},[e._v("\n            sent\n          ")]):e._e(),e._v(" "),o.paid?e._e():n("badge",{attrs:{type:"primary"}},[e._v("\n            unpaid & pending\n          ")]),e._v(" "),o.written_off?n("badge",{attrs:{type:"warning"}},[e._v("\n            written off\n          ")]):e._e(),e._v(" "),o.sent?e._e():n("badge",{attrs:{type:"alternative"}},[e._v("\n            not sent\n          ")])],1)]}}])})],1),e._v(" "),n("br"),e._v(" "),n("base-pagination",{attrs:{total:e.meta.total,"per-page":e.meta.per_page,value:e.meta.current_page,align:"center"},on:{next:e.next,prev:e.prev}}),e._v(" "),n("modal",{attrs:{show:e.modals.classic},on:{"update:show":function(t){return e.$set(e.modals,"classic",t)}}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateInvoice(t)}}},[n("SectionTitle",{staticClass:"mr-t-40",attrs:{slot:"header",title:"Create New Invoice"},slot:"header"}),e._v(" "),n("h4",[e._v("Updating Invoice: "+e._s(e.addInvoice.inv_number))]),e._v(" "),n("div",{staticClass:"form-group col-md-12"},[n("label",[e._v("Invoice Description")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addInvoice.description,expression:"addInvoice.description"}],staticClass:"form-control",attrs:{placeholder:"Add details you want on invoice",rows:"4","max-rows":"6"},domProps:{value:e.addInvoice.description},on:{input:function(t){t.target.composing||e.$set(e.addInvoice,"description",t.target.value)}}})]),e._v(" "),n("base-input",{staticClass:"col-md-12",attrs:{label:"No. days before due",type:"number",placeholder:"0"},model:{value:e.addInvoice.days_until_due,callback:function(t){e.$set(e.addInvoice,"days_until_due",t)},expression:"addInvoice.days_until_due"}}),e._v(" "),n("div",{staticClass:"form-group col-md-12"},[n("label",[e._v("Invoice Footer")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addInvoice.footer,expression:"addInvoice.footer"}],staticClass:"form-control",attrs:{placeholder:"Add invoice footer",rows:"4","max-rows":"6"},domProps:{value:e.addInvoice.footer},on:{input:function(t){t.target.composing||e.$set(e.addInvoice,"footer",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group col-md-12"},[n("label",[e._v("Notes")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addInvoice.notes,expression:"addInvoice.notes"}],staticClass:"form-control",attrs:{placeholder:"Add invoice footer",rows:"4","max-rows":"6"},domProps:{value:e.addInvoice.notes},on:{input:function(t){t.target.composing||e.$set(e.addInvoice,"notes",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"clear-fix"}),e._v(" "),n("button",{staticClass:"btn btn-primary mr-t-40 pd-lr-40",attrs:{type:"submit"}},[e._v("Update Invoice")])],1)],1)],1)}),[],!1,null,null,null);t.a=component.exports},554:function(e,t,n){"use strict";n.r(t);var o=n(358).a,r=(n(448),n(11)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("base-header",{staticClass:"pb-6",attrs:{type:""}},[n("div",{staticClass:"d-flex justify-content-between align-items-center py-4"},[n("MainTitle",{attrs:{title:"Invoices"}}),e._v(" "),n("SearchForm",{attrs:{loading:e.loadingSearch},on:{search:e.getInvoiceResult}}),e._v(" "),n("div",{staticClass:"mr-l-child-20"},[n("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.modals.classic=!0}}},[e._v("\n          New Invoice\n        ")])])],1)]),e._v(" "),n("div",{staticClass:"container-fluid mt--6 inv-table"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("card",[n("b-row",{staticClass:"d-flex align-items-center"},[n("b-col",{attrs:{md:"8"}},[n("client-only",[n("date-picker",{attrs:{id:"month",icon:!1,width:"100%",lang:"en","input-class":"form-control",format:"YYYY-MM","value-type":"format",confirm:"",label:"select month",type:"month"},on:{change:e.filterInv},model:{value:e.invMonth,callback:function(t){e.invMonth=t},expression:"invMonth"}},[n("template",{slot:"calendar-icon"},[n("i")])],2)],1)],1),e._v(" "),n("b-col",{attrs:{md:"4"}},[n("h3",{staticClass:"text-muted"},[e._v("UNPAID")])])],1)],1)],1),e._v(" "),n("div",{staticClass:"col-md-8"},[n("card",[n("div",{staticClass:"d-flex justify-content-around py-2"},[n("badge",{attrs:{type:"primary"}},[e._v("\n              unpaid & pending "),n("i",{staticClass:"fa fa-eye"})]),e._v(" "),n("badge",{attrs:{type:"danger"}},[e._v("paid "),n("i",{staticClass:"fa fa-eye"})]),e._v(" "),n("badge",{attrs:{type:"success"}},[e._v("sent "),n("i",{staticClass:"fa fa-eye"})]),e._v(" "),n("badge",{attrs:{type:"warning"}},[e._v("\n              written off "),n("i",{staticClass:"fa fa-eye"})]),e._v(" "),n("badge",{attrs:{type:"alternative"}},[e._v("\n              not sent "),n("i",{staticClass:"fa fa-eye"})])],1)])],1)]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("InvoiceTable")],1)]),e._v(" "),n("modal",{attrs:{show:e.modals.classic},on:{"update:show":function(t){return e.$set(e.modals,"classic",t)}}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.createInvoice(t)}}},[n("SectionTitle",{staticClass:"mr-t-40",attrs:{slot:"header",title:"Create New Invoice"},slot:"header"}),e._v(" "),n("p",[e._v("Select the Member this invoice is being issued to:")]),e._v(" "),n("el-select",{attrs:{"remote-method":e.searchCompany,loading:e.searching,required:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Choose a company"},model:{value:e.company_id,callback:function(t){e.company_id=t},expression:"company_id"}},e._l(e.companies,(function(option){return n("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1),e._v(" "),n("div",{staticClass:"clear-fix"}),e._v(" "),n("button",{staticClass:"btn btn-primary mr-t-40 pd-lr-40",attrs:{type:"submit"}},[e._v("Create Invoice")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);