(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{322:function(t,e,n){"use strict";var r={props:{title:{type:String,default:""},subtitle:{type:String,default:""},info:{type:String,default:""}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"page-title"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("b",{directives:[{name:"show",rawName:"v-show",value:t.subtitle,expression:"subtitle"}]},[t._v("â€¢")]),t._v(" "+t._s(t.subtitle))])}),[],!1,null,null,null);e.a=component.exports},339:function(t,e,n){"use strict";var r={props:{value:{type:String,default:""},editorText:{type:String,default:""}},data:function(){return{editorOptions:{useDefaultHTMLSanitizer:!1,usageStatistics:!1,hideModeSwitch:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","divider","code","codeblock"]},text:this.value}},watch:{text:function(){this.$emit("input",this.text)}},methods:{onEditorChange:function(){this.$refs.toastuiEditor.invoke("getHtml"),this.$refs.toastuiEditor.invoke("getValue");var t=this.$refs.toastuiEditor.invoke("getMarkdown");this.text=t}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("client-only",[n("editor",{ref:"toastuiEditor",attrs:{"initial-value":t.editorText,options:t.editorOptions,"initial-edit-type":"wysiwyg","preview-style":"tab"},on:{change:t.onEditorChange},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)}),[],!1,null,null,null);e.a=component.exports},549:function(t,e,n){"use strict";n.r(e);n(9),n(3),n(7),n(6),n(5),n(8);var r=n(1),o=(n(40),n(12)),c=n(117),l=n(322),d=n(339),v=n(44);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={layout:"ShackDash",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$membership,r=t.params,e.next=3,n.getAllNotes(r.id).then((function(t){return{notes:t.data}})).catch((function(t){console.log(t.response.data.message)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},components:{BaseHeader:c.a,MainTitle:l.a,HtmlEditor:d.a},data:function(){return{loading:!1,body:"",sticky_note:!1,notes:[]}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(v.b)({user:function(t){return t.auth.user.id}})),methods:{addNote:function(){var t=this,body=this.body,e=this.sticky_note,n=this.$route.params.id;this.loading=!this.loading,this.$membership.addNote(n,{body:body,sticky_note:e}).then((function(e){var data=e.data;t.body="",t.loading=!t.loading,t.$bvToast.toast("Note added successfully",{title:"Success",variant:"success"}),t.notes.push(data)})).catch((function(e){t.loading=!t.loading;var n=e.response?e.response.data.message:e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))},deleteNote:function(i){var t=this;if(confirm("Are you sure?")){this.loading=!this.loading;var e=this.$route.params.id,n=this.notes[i].id;this.$membership.deleteNote(e,n).then((function(e){t.loading=!t.loading,t.$bvToast.toast("Note added successfully",{title:"Success",variant:"success"}),t.notes.splice(i,1)})).catch((function(e){t.loading=!t.loading;var n=e.response?e.response.data.message:e.message;t.$bvToast.toast(n,{title:"Error",variant:"danger"})}))}}}},m=n(11),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[n("base-header",{staticClass:"pb-6",attrs:{type:""}},[n("div",{staticClass:"d-flex justify-content-between align-items-center py-4"},[n("MainTitle",{attrs:{title:"Directory",subtitle:"Notes"}}),t._v(" "),n("b-button",{attrs:{disabled:t.loading,type:"submit",variant:"primary"}},[t._v("Add Note")])],1)]),t._v(" "),n("b-container",{staticClass:"col-md-12"},[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("b-card",{attrs:{title:"New Note"}},[n("html-editor",{attrs:{placeholder:"Content"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}}),t._v(" "),n("b-form-checkbox",{staticClass:"mt-2",attrs:{value:!0,"unchecked-value":!1},model:{value:t.sticky_note,callback:function(e){t.sticky_note=e},expression:"sticky_note"}},[t._v("Sticky Note")])],1)],1),t._v(" "),n("b-col",{attrs:{cols:"6"}},[n("b-card",{attrs:{title:"Administrator Notes"}},[n("div",{staticStyle:{"max-height":"500px","overflow-y":"auto",margin:"0 -25px"}},[n("table",{staticClass:"table table-hover table-striped"},[n("tbody",t._l(t.notes,(function(e,i){return n("tr",{key:e.id},[n("td",[n("div",{staticClass:"d-flex justify-content-between"},[n("div",[n("span",[t._v(t._s(t.$moment(e.updated_at).format("MMM DD, YYYY HH:mm:ss")))]),t._v(" "),n("span",[t._v("~ "+t._s(e.user.name))])]),t._v(" "),e.user.id==t.user?n("div",[n("b-button",{staticClass:"text-danger",attrs:{variant:"transparent",size:"sm"},on:{click:function(e){return t.deleteNote(i)}}},[n("i",{staticClass:"fa fa-trash"})])],1):t._e()]),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.body)}})])])})),0)])])])],1)],1)],1)],1),t._v(" "),n("b-button",{staticClass:"text-primary",attrs:{variant:"transparent"},on:{click:function(e){return t.$router.go(-1)}}},[n("i",{staticClass:"fa fa-chevron-left"}),t._v(" Back")])],1)}),[],!1,null,null,null);e.default=component.exports}}]);