(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{322:function(t,e,n){"use strict";var r={props:{title:{type:String,default:""},subtitle:{type:String,default:""},info:{type:String,default:""}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"page-title"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("b",{directives:[{name:"show",rawName:"v-show",value:t.subtitle,expression:"subtitle"}]},[t._v("•")]),t._v(" "+t._s(t.subtitle))])}),[],!1,null,null,null);e.a=component.exports},324:function(t,e,n){},329:function(t,e,n){"use strict";var r=n(324);n.n(r).a},330:function(t,e,n){"use strict";n(40);var r=n(12),o=n(67),c=n.n(o),l={props:{name:{type:String,default:null},label:{type:String,default:null},service:{type:String,default:"images"},url:{type:String,default:null}},data:function(){return{publicUrl:null}},methods:{onFileChange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.target.files[0]){n.next=3;break}return n.abrupt("return");case 3:if(!(r.size>5e5)){n.next=6;break}return e.$bvToast.toast("File size must not be greater than 500kb",{variant:"warning"}),n.abrupt("return");case 6:return o=r.type,e.url=URL.createObjectURL(r),n.next=10,e.getSignedUrl(o);case 10:return c=n.sent,e.publicUrl=c.public_url,e.$bvToast.toast("Uploading image. Please wait..."),n.next=15,e.uploadUrl(c.signed_url,r,o).then((function(t){e.$emit("input",e.publicUrl),e.$bvToast.toast("Image uploaded successfully",{variant:"success",solid:!0})})).catch((function(t){e.$bvToast.toast(t.message,{title:"Error",variant:"danger",solid:!0})}));case 15:n.sent;case 16:case"end":return n.stop()}}),n)})))()},getSignedUrl:function(t){var e=this,n=this.service;return this.$images.getSignedUrl(n,t).then((function(t){return t.data.data})).catch((function(t){var n=t.response;e.$bvToast.toast(JSON.stringify(n.data.errors),{title:"Error",variant:"danger",solid:!0})}))},uploadUrl:function(t,e,n){var r=this;return c.a.put(t,e,{headers:{"Content-Type":n}}).then((function(t){return t})).catch((function(t){var e=t.response;r.$bvToast.toast(JSON.stringify(e.data),{variant:"danger",solid:!0})}))}}},d=(n(329),n(11)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mr-b-20",attrs:{id:"preview"}},[t.url?n("img",{attrs:{src:t.url}}):t._e()]),t._v(" "),n("div",{staticClass:"bg-lgray pd-10 pd-l-20 upload-btn-wrapper pd-0"},[n("button",{staticClass:"btn"},[n("i",{staticClass:"fa fa-paperclip mr-r-10"}),t._v(" "+t._s(t.label))]),t._v(" "),n("input",{attrs:{name:t.name,type:"file",accept:"image/*"},on:{change:t.onFileChange}})])])}),[],!1,null,null,null);e.a=component.exports},332:function(t,e,n){"use strict";var r={props:{loading:{type:Boolean,default:!1},required:{type:Boolean,default:!0}},data:function(){return{searchTerm:""}},methods:{search:function(){this.$emit("input",this.searchTerm),this.$emit("search",this.searchTerm)}}},o=n(11),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[n("base-input",{staticClass:"mb-0",attrs:{"input-group-classes":"input-group-merge sh-search",group:""}},[n("template",{slot:"prepend"},[n("i",{staticClass:"fa fa-search"})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{required:t.required,type:"text",placeholder:"Looking for ...","aria-describedby":"button-addon2"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-default",attrs:{id:"button-addon2",disabled:t.loading,type:"submit"}},[t.loading?n("i",{staticClass:"fa fa-spinner fa-spin"}):n("span",[t._v("\n            Search")])])])],2)],1)}),[],!1,null,null,null);e.a=component.exports},352:function(t,e,n){},353:function(t,e,n){},354:function(t,e,n){},434:function(t,e,n){"use strict";var r=n(352);n.n(r).a},435:function(t,e,n){"use strict";var r=n(353);n.n(r).a},436:function(t,e,n){"use strict";var r=n(354);n.n(r).a},492:function(t,e,n){"use strict";n.r(e);n(9),n(3),n(7),n(6),n(5),n(8);var r,o=n(1),c=(n(40),n(12)),l=n(117),d=n(322),m=(n(325),n(116),n(326)),v=n.n(m),f=(n(17),n(327),n(328)),h=n.n(f),_=n(44),y=n(330),C=n(332),w=n(13);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var O={components:(r={},Object(o.a)(r,h.a.name,h.a),Object(o.a)(r,v.a.name,v.a),Object(o.a)(r,"UploadButton",y.a),Object(o.a)(r,"SearchForm",C.a),r),data:function(){return{selectOption:"image",url:null,banner_url:null,modals:{resource:!1},attachmentSelect:{type:"image",attachInfo:null},loadingSearch:!1,noResult:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(_.b)({sessions:function(t){return t.wellness.sessions.data},events:function(t){return t.events.events}})),methods:{changeSelect:function(t){this.noResult=null,"event"==t&&this.getEvents(),"wellness"==t&&this.getWellness(),"image"==t&&(this.attachmentSelect.type="image")},getWellness:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$wellness.getAllWellnessSessions();case 3:n=e.sent,data=n.data,t.$store.commit("wellness/setSessions",data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$bvToast.toast("".concat(e.t0.response?JSON.stringify(e.t0.response.data.errors):e.t0.message),w.a.notify.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getEvents:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$event.getEvents();case 3:n=e.sent,data=n.data,t.$store.commit("events/setEvents",data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$bvToast.toast("".concat(e.t0.response?JSON.stringify(e.t0.response.data.errors):e.t0.message),w.a.notify.error);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getEventResult:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingSearch=!0,n.prev=1,n.next=4,e.$event.getEventsByName(t);case 4:r=n.sent,0==(data=r.data).data.length?e.noResult="We could not find your search parameter":e.noResult=null,e.loadingSearch=!1,e.$store.commit("events/setEvents",data.data),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),e.loadingSearch=!1,e.$bvToast.toast("".concat(n.t0.response?JSON.stringify(n.t0.response.data.errors):n.t0.message),w.a.notify.error);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},getWellnessResult:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingSearch=!0,n.prev=1,n.next=4,e.$wellness.getWellnessByName(t);case 4:r=n.sent,0==(data=r.data).data.length?e.noResult="We could not find your search parameter":e.noResult=null,e.loadingSearch=!1,e.$store.commit("wellness/setSessions",data),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),e.loadingSearch=!1,e.$bvToast.toast("".concat(n.t0.response?JSON.stringify(n.t0.response.data.errors):n.t0.message),w.a.notify.error);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},getAttachment:function(data,t){this.attachmentSelect.type=t,this.attachmentSelect.attachInfo=data},addAttach:function(){if("image"==this.attachmentSelect.type){var t={type:this.attachmentSelect.type,banner_url:this.banner_url};this.$store.commit("community/setAttachment",t),this.modals.resource=!1}else this.$store.commit("community/setAttachment",this.attachmentSelect),this.modals.resource=!1}}},S=(n(434),n(11)),j=Object(S.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sh_community-res"},[n("a",{staticClass:"text-muted block",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.modals.resource=!0}}},[n("i",{staticClass:"fa fa-paperclip mr-r-10"}),t._v(" Add Attachment\n  ")]),t._v(" "),n("modal",{attrs:{show:t.modals.resource,size:"lg"},on:{"update:show":function(e){return t.$set(t.modals,"resource",e)}}},[n("h3",{staticClass:"mr-tb-20 u-line",attrs:{slot:"header"},slot:"header"},[t._v("\n      ATTACH RESOURCE\n    ")]),t._v(" "),n("div",{staticClass:"col-md-12"},[n("span",{staticClass:"mr-r-20"},[t._v("Select attachment from")]),t._v(" "),n("el-select",{staticClass:"select-danger",attrs:{placeholder:"pick resource ..."},on:{change:function(e){return t.changeSelect(e)}},model:{value:t.selectOption,callback:function(e){t.selectOption=e},expression:"selectOption"}},[n("el-option",{staticClass:"select-danger",attrs:{value:"event",label:"event"}}),t._v(" "),n("el-option",{staticClass:"select-danger",attrs:{value:"wellness",label:"wellness"}}),t._v(" "),n("el-option",{staticClass:"select-danger",attrs:{value:"image",label:"image"}})],1)],1),t._v(" "),n("div",{staticClass:"col-md-12"},["event"==t.selectOption?[n("div",{staticClass:"mr-t-30 bdr pd-10"},[n("SearchForm",{attrs:{loading:t.loadingSearch},on:{search:t.getEventResult}}),t._v(" "),n("h4",[t._v(t._s(t.noResult))])],1),t._v(" "),n("div",{staticClass:"mr-t-30 bdr pd-10"},t._l(t.events,(function(e){return n("div",{key:e.id,staticClass:"d-flex sh_modal-resource justify-content-between align-items-center bdr-b pd-b-10 mr-b-10"},[n("div",{staticClass:"d-flex align-items-center"},[n("img",{staticClass:"avatar mr-r-10",attrs:{src:e.banner_url,alt:""}}),t._v(" "),n("div",{},[n("strong",[t._v(t._s(e.name))]),t._v(" "),n("br"),t._v("\n                "+t._s(t.$moment(e.start_time).format("MMM Do YY, h:mm"))+" - "+t._s(t.$moment(e.end_time).format("MMM Do YY, h:mm"))+" | "+t._s(e.event_category.name)+"\n              ")])]),t._v(" "),n("div",[n("b-form-radio",{attrs:{value:e.id,name:"event"},on:{change:function(n){return t.getAttachment(e,"event")}}})],1)])})),0)]:t._e(),t._v(" "),"wellness"==t.selectOption?[n("div",{staticClass:"mr-t-30 bdr pd-10"},[n("SearchForm",{attrs:{loading:t.loadingSearch},on:{search:t.getWellnessResult}}),t._v(" "),n("h4",[t._v(t._s(t.noResult))])],1),t._v(" "),n("div",{staticClass:"mr-t-30 bdr pd-10"},t._l(t.sessions,(function(e){return n("div",{key:e.id,staticClass:"d-flex sh_modal-resource justify-content-between align-items-center bdr-b pd-b-10 mr-b-10"},[n("div",{staticClass:"d-flex align-items-center"},[n("img",{staticClass:"avatar mr-r-10",attrs:{src:e.banner_url,alt:""}}),t._v(" "),n("div",{},[n("strong",[t._v(t._s(e.name))]),t._v(" "),n("br"),t._v("\n                "+t._s(t.$moment(e.start_date).format("MMM Do YY, h:mm"))+" - "+t._s(t.$moment(e.end_date).format("MMM Do YY, h:mm"))+" | "+t._s(e.wellness_category.name)+"\n              ")])]),t._v(" "),n("div",[n("b-form-radio",{attrs:{value:e.id,name:"wellness"},on:{change:function(n){return t.getAttachment(e,"wellness")}}})],1)])})),0)]:t._e(),t._v(" "),"image"==t.selectOption?[n("UploadButton",{attrs:{service:"community",label:"Upload File (<500KB & size 1125x582)"},model:{value:t.banner_url,callback:function(e){t.banner_url=e},expression:"banner_url"}})]:t._e()],2),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 text-right"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.addAttach}},[t._v("Add to Post")])])])])],1)}),[],!1,null,null,null).exports,$={props:{type:{type:String,default:"success"},content:{type:String,default:"Doloremque non sint, a quam facilis consectetur possimus asperiores. Dicta earum adipisci ipsam."}}},M=(n(435),Object(S.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid sh-top_alert"},[e("base-alert",{attrs:{type:this.type,dismissible:""}},[this._t("default"),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])],2)],1)}),[],!1,null,null,null).exports),k=n(118);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={layout:"ShackDash",components:{BaseHeader:l.a,AttachButton:j,MainTitle:d.a,TopAlert:M},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("community/getAllFeeds");case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{modals:{classic:!1},currentEvent:{},options:[{value:0,text:"All members"},{value:1,text:"Only Checked-in Members"}]}},computed:A(A({},Object(_.b)({feeds:function(t){return t.community.feeds.data},addFeed:function(t){return t.community.addFeed},isLoading:function(t){return t.community.isLoading},postMessage:function(t){return t.community.postMessage}})),Object(k.b)({feed_text:"community.addFeed.feed_text",recipientTypeCode:"community.addFeed.recipientTypeCode"})),methods:{showPreview:function(t){this.$bvModal.show("previewModal")},postFeed:function(){this.$bvModal.hide("previewModal"),this.$store.commit("community/setIsLoading"),this.$store.dispatch("community/createFeed")},deleteFeed:function(t){confirm("Are you sure?")&&this.$store.dispatch("community/deleteFeed",t)},removeAttach:function(){this.$store.commit("community/resetAttachment")}}},F=(n(436),Object(S.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.postMessage.show?n("TopAlert",{attrs:{type:t.postMessage.type}},[n("i",{class:t.postMessage.icon}),t._v(" "+t._s(t.postMessage.text)+"\n  ")]):t._e(),t._v(" "),n("base-header",{staticClass:"pb-6",attrs:{type:""}},[n("div",{staticClass:"d-flex justify-content-between align-items-center py-4"},[n("MainTitle",{attrs:{title:"Community"}})],1)]),t._v(" "),n("b-form",{on:{submit:function(e){return e.preventDefault(),t.showPreview(e)}}},[n("div",{staticClass:"container-fluid mt--6 sh_community-post"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-5"},[n("card",[n("div",{staticClass:"d-flex mr-b-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feed_text,expression:"feed_text"}],staticClass:"form-control no-border resize-none",attrs:{placeholder:"Share updates with SHACK15 community",rows:"6","aria-label":"Comment textarea"},domProps:{value:t.feed_text},on:{input:function(e){e.target.composing||(t.feed_text=e.target.value)}}})]),t._v(" "),t.addFeed.attachment_url?n("div",{staticClass:"\n                d-flex\n                sh_modal-resource\n                justify-content-between\n                align-items-center\n                bdr-b\n                pd-b-10\n                mr-b-10\n              "},[n("div",{staticClass:"d-flex align-items-center"},[n("img",{staticClass:"avatar mr-r-10",attrs:{src:t.addFeed.attachment_url,alt:""}}),t._v(" "),n("div",[t.addFeed.attachment_text?n("strong",[t._v(t._s(t.addFeed.attachment_text))]):t._e(),t._v(" "),n("br"),t._v(" "),t.addFeed.start_time?n("span",{staticClass:"text-muted"},[t._v(t._s(t.$moment(t.addFeed.start_time).format("MMM Do YY, h:mm"))+"\n                    -\n                    "+t._s(t.$moment(t.addFeed.end_time).format("MMM Do YY, h:mm"))+"\n                    | "+t._s(t.addFeed.category))]):t._e()])]),t._v(" "),n("a",{staticClass:"align-self-start",attrs:{href:"javascript:void(0)"},on:{click:t.removeAttach}},[n("i",{staticClass:"fa fa-times"})])]):t._e(),t._v(" "),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("AttachButton"),t._v(" "),n("button",{staticClass:"btn btn-default",attrs:{disabled:t.isLoading,type:"submit"}},[t._v("\n                SHARE\n              ")])],1)]),t._v(" "),n("b-modal",{attrs:{id:"previewModal",size:"lg"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[n("b-row",[n("b-col",{attrs:{md:"12"}},[n("p",{staticClass:"d-flex align-items-center text-muted"},[t._v("\n                    "+t._s(t.$moment().format("MMMM DD YYYY"))+",\n                    "+t._s(t.$moment().format("HH:mm"))+"\n                    "),n("i",{staticClass:"fa fa-circle mx-2",staticStyle:{"font-size":"5px"}})])])],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100"},[[n("b-button",{staticClass:"float-left",attrs:{variant:"primary"},on:{click:t.postFeed}},[t._v("Publish Post")]),t._v("\n                  Send to:\n                  "),n("b-form-select",{staticStyle:{"max-width":"200px"},attrs:{options:t.options},model:{value:t.recipientTypeCode,callback:function(e){t.recipientTypeCode=e},expression:"recipientTypeCode"}})]],2)]},proxy:!0}])},[t._v(" "),n("span",[t._v(t._s(t.feed_text))]),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"12"}})],1)],1),t._v(" "),n("a",{staticClass:"text-muted mr-b-30 block",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.modals.classic=!0}}},[n("i",{staticClass:"fa fa-question-circle"}),t._v(" What can I attach to a post?\n          ")]),t._v(" "),n("modal",{attrs:{show:t.modals.classic},on:{"update:show":function(e){return t.$set(t.modals,"classic",e)}}},[n("h3",{staticClass:"mr-tb-20",attrs:{slot:"header"},slot:"header"},[n("i",{staticClass:"fa fa-question-circle"}),t._v(" What can I attach to a post?\n            ")]),t._v(" "),n("p",[t._v("\n              This space is where members find answers, recommendations or\n              meetups by submitting a request to the SHACK15 Community.\n            ")]),t._v(" "),n("h3",{staticClass:"u-line mr-b-10"},[t._v("WHAT TO ATTACH")]),t._v(" "),n("ul",{staticClass:"pd-l-10"},[n("li",[t._v("Events which have been created")]),t._v(" "),n("li",[t._v("Image on events happening within space")]),t._v(" "),n("li",[t._v("Featured wellness sessions for the day")])])]),t._v(" "),t._l(t.feeds,(function(e){return n("card",{key:e.id},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"d-flex align-items-center"},[e.user?n("img",{staticClass:"avatar rounded-circle",attrs:{src:e.user.picture,alt:"Image placeholder"}}):t._e(),t._v(" "),n("div",{staticClass:"mr-l-10"},[e.user?n("div",[t._v(t._s(e.user.full_name))]):t._e(),t._v(" "),n("div",{staticClass:"text-muted"},[t._v("\n                    Posted on "+t._s(t.$moment(e.created_at).format("MMM-DD"))+"\n                  ")])])]),t._v(" "),n("b-dropdown",{staticClass:"sh_postdd",attrs:{"no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("i",{staticClass:"fa fa-ellipsis-v"})]},proxy:!0}],null,!0)},[t._v(" "),n("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(n){return t.deleteFeed(e.id)}}},[n("i",{staticClass:"ti-trash"}),t._v(" Delete Post\n                ")])])],1),t._v(" "),n("div",{staticClass:"mr-t-20 sh_postcontent"},[t._v("\n              "+t._s(e.feed_text)+"\n            ")])])}))],2)])])])],1)}),[],!1,null,null,null));e.default=F.exports}}]);